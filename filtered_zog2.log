2026-01-28 03:00:18,337 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:00:19,068 - EventBus - DEBUG - Published vision.pose_detected event
2026-01-28 03:00:19,416 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:00:20,488 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:00:21,573 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:00:22,710 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:00:22,710 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:00:22,710 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:00:22,716 - WebRTCService - INFO - Video track paused for camera reconfig
2026-01-28 03:00:23,089 - DetectorService - WARNING - Resolution change already in progress, skipping
2026-01-28 03:00:23,644 - WebRTCService - INFO - Video track resumed after camera reconfig
2026-01-28 03:00:23,729 - audio.bark_buffer_arecord - DEBUG - Recorded 10 chunks
2026-01-28 03:00:23,729 - audio.bark_buffer_arecord - INFO - Recording loop ended
2026-01-28 03:00:23,735 - audio.bark_buffer_arecord - INFO - Stopped audio recording. Stats: 10 recorded, 1 failed
2026-01-28 03:00:25,455 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:00:25,456 - RelayClient - INFO - [WEBRTC] Close request: session=989282a1-0a50-4c45-b7e3-e3d8db4371f9 - mode unchanged
2026-01-28 03:00:25,648 - WebRTCService - INFO - Data channel closed for 989282a1-0a50-4c45-b7e3-e3d8db4371f9
2026-01-28 03:00:25,671 - WebRTCService - INFO - [WEBRTC] ICE state 989282a1-0a50-4c45-b7e3-e3d8db4371f9: closed
2026-01-28 03:00:25,671 - WebRTCService - WARNING - [WEBRTC] ICE closed for 989282a1-0a50-4c45-b7e3-e3d8db4371f9, scheduling cleanup...
2026-01-28 03:00:25,671 - WebRTCService - INFO - [WEBRTC] Connection 989282a1-0a50-4c45-b7e3-e3d8db4371f9: closed
2026-01-28 03:00:25,672 - WebRTCService - INFO - [WEBRTC] Session 989282a1-0a50-4c45-b7e3-e3d8db4371f9 closed - cleaning up (mode unchanged)
2026-01-28 03:00:25,673 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:00:25,943 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 989282a1-0a50-4c45-b7e3-e3d8db4371f9
2026-01-28 03:00:25,943 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:00:25,944 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:00:25,945 - RelayClient - INFO - WebRTC request received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:25,948 - WebRTCService - INFO - Created data channel for offer f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:25,948 - WebRTCService - INFO - [WEBRTC] Active connections: ['f6cd348b-242e-4c4a-978d-f94f9c0b5941']
2026-01-28 03:00:26,560 - WebRTCService - INFO - [WEBRTC] Created offer for session f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:26,561 - RelayClient - INFO - Sent WebRTC offer for session f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,005 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:00:29,005 - RelayClient - INFO - WebRTC answer received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,253 - WebRTCService - INFO - Set remote description (answer) for session f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,253 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,254 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,254 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,254 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,254 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,255 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,255 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,255 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,255 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,255 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,256 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,256 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,256 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,256 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,256 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,308 - WebRTCService - INFO - [WEBRTC] ICE state f6cd348b-242e-4c4a-978d-f94f9c0b5941: checking
2026-01-28 03:00:29,308 - WebRTCService - INFO - [WEBRTC] Connection f6cd348b-242e-4c4a-978d-f94f9c0b5941: connecting
2026-01-28 03:00:29,507 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:00:29,557 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,557 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,559 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,559 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,559 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,560 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,560 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,560 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,560 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,560 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:29,561 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,561 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:29,652 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:00:30,266 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:30,266 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:30,266 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:30,266 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:30,267 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:30,267 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:30,267 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:30,267 - RelayClient - DEBUG - ICE candidate received: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:30,267 - WebRTCService - DEBUG - Added ICE candidate for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:30,590 - WebRTCService - INFO - [WEBRTC] ICE state f6cd348b-242e-4c4a-978d-f94f9c0b5941: completed
2026-01-28 03:00:31,079 - WebRTCService - INFO - [WEBRTC] Connection f6cd348b-242e-4c4a-978d-f94f9c0b5941: connected
2026-01-28 03:00:31,847 - WebRTCService - INFO - Data channel opened for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:33,868 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:00:33,869 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:00:33,870 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:00:35,901 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.0 hours
2026-01-28 03:00:37,852 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:00:37,853 - RelayClient - INFO - [WEBRTC] Close request: session=f6cd348b-242e-4c4a-978d-f94f9c0b5941 - mode unchanged
2026-01-28 03:00:38,579 - WebRTCService - INFO - Data channel closed for f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:38,699 - WebRTCService - INFO - [WEBRTC] ICE state f6cd348b-242e-4c4a-978d-f94f9c0b5941: closed
2026-01-28 03:00:38,699 - WebRTCService - WARNING - [WEBRTC] ICE closed for f6cd348b-242e-4c4a-978d-f94f9c0b5941, scheduling cleanup...
2026-01-28 03:00:38,699 - WebRTCService - INFO - [WEBRTC] Connection f6cd348b-242e-4c4a-978d-f94f9c0b5941: closed
2026-01-28 03:00:38,700 - WebRTCService - INFO - [WEBRTC] Session f6cd348b-242e-4c4a-978d-f94f9c0b5941 closed - cleaning up (mode unchanged)
2026-01-28 03:00:38,701 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:00:39,445 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:00:40,194 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: f6cd348b-242e-4c4a-978d-f94f9c0b5941
2026-01-28 03:00:40,195 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:00:40,195 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:00:40,196 - RelayClient - INFO - WebRTC request received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:40,202 - WebRTCService - INFO - Created data channel for offer 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:40,202 - WebRTCService - INFO - [WEBRTC] Active connections: ['0dd4e397-f715-4b1a-b3a0-f88f8e3866b0']
2026-01-28 03:00:42,849 - WebRTCService - INFO - [WEBRTC] Created offer for session 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:42,849 - RelayClient - INFO - Sent WebRTC offer for session 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:43,238 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:00:43,239 - RelayClient - INFO - WebRTC answer received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,614 - WebRTCService - INFO - Set remote description (answer) for session 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,614 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,614 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,614 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,615 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,615 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,615 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,615 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,615 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,616 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,616 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,616 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,616 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,616 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,616 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,617 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,617 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,617 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,617 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,618 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,618 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,618 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,619 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,619 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,620 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,620 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,621 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,621 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,622 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,622 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,623 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,624 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,624 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,624 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,625 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:44,625 - RelayClient - DEBUG - ICE candidate received: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,626 - WebRTCService - DEBUG - Added ICE candidate for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:44,874 - WebRTCService - INFO - [WEBRTC] ICE state 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0: checking
2026-01-28 03:00:44,875 - WebRTCService - INFO - [WEBRTC] Connection 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0: connecting
2026-01-28 03:00:46,155 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:00:47,183 - WebRTCService - INFO - [WEBRTC] ICE state 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0: completed
2026-01-28 03:00:48,065 - WebRTCService - INFO - [WEBRTC] Connection 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0: connected
2026-01-28 03:00:49,644 - WebRTCService - INFO - Data channel opened for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:52,186 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:00:52,187 - RelayClient - INFO - [WEBRTC] Close request: session=0dd4e397-f715-4b1a-b3a0-f88f8e3866b0 - mode unchanged
2026-01-28 03:00:52,964 - WebRTCService - INFO - Data channel closed for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:53,093 - WebRTCService - INFO - [WEBRTC] ICE state 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0: closed
2026-01-28 03:00:53,093 - WebRTCService - WARNING - [WEBRTC] ICE closed for 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0, scheduling cleanup...
2026-01-28 03:00:53,093 - WebRTCService - INFO - [WEBRTC] Connection 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0: closed
2026-01-28 03:00:53,094 - WebRTCService - INFO - [WEBRTC] Session 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0 closed - cleaning up (mode unchanged)
2026-01-28 03:00:53,094 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:00:54,562 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 0dd4e397-f715-4b1a-b3a0-f88f8e3866b0
2026-01-28 03:00:54,564 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:00:54,564 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:00:54,565 - RelayClient - INFO - WebRTC request received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:54,567 - WebRTCService - INFO - Created data channel for offer f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:54,567 - WebRTCService - INFO - [WEBRTC] Active connections: ['f4a57de9-6bef-453e-8599-83a425f87de0']
2026-01-28 03:00:57,186 - WebRTCService - INFO - [WEBRTC] Created offer for session f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:57,186 - RelayClient - INFO - Sent WebRTC offer for session f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:57,676 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:00:57,676 - RelayClient - INFO - WebRTC answer received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,042 - WebRTCService - INFO - Set remote description (answer) for session f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,042 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,043 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,043 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,043 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,043 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,044 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,044 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,044 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,044 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,045 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,045 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,045 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,045 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,045 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,046 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,046 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,047 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,048 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,048 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,049 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,049 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,049 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,050 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,050 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,050 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,052 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,052 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,053 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,053 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,053 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,053 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,053 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,053 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,053 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,054 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,054 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,054 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,054 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,054 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,054 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,054 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,054 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,055 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,055 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,055 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,055 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,055 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,055 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,055 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,056 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,056 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,056 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,056 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,056 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,056 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:00:59,056 - RelayClient - DEBUG - ICE candidate received: session=f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,057 - WebRTCService - DEBUG - Added ICE candidate for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:00:59,301 - WebRTCService - INFO - [WEBRTC] ICE state f4a57de9-6bef-453e-8599-83a425f87de0: checking
2026-01-28 03:00:59,302 - WebRTCService - INFO - [WEBRTC] Connection f4a57de9-6bef-453e-8599-83a425f87de0: connecting
2026-01-28 03:01:00,533 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:01:01,179 - WebRTCService - INFO - [WEBRTC] ICE state f4a57de9-6bef-453e-8599-83a425f87de0: completed
2026-01-28 03:01:01,955 - WebRTCService - INFO - [WEBRTC] Connection f4a57de9-6bef-453e-8599-83a425f87de0: connected
2026-01-28 03:01:04,151 - WebRTCService - INFO - Data channel opened for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:01:04,453 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:01:04,453 - RelayClient - INFO - [WEBRTC] Close request: session=f4a57de9-6bef-453e-8599-83a425f87de0 - mode unchanged
2026-01-28 03:01:05,242 - WebRTCService - INFO - Data channel closed for f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:01:05,366 - WebRTCService - INFO - [WEBRTC] ICE state f4a57de9-6bef-453e-8599-83a425f87de0: closed
2026-01-28 03:01:05,366 - WebRTCService - WARNING - [WEBRTC] ICE closed for f4a57de9-6bef-453e-8599-83a425f87de0, scheduling cleanup...
2026-01-28 03:01:05,366 - WebRTCService - INFO - [WEBRTC] Connection f4a57de9-6bef-453e-8599-83a425f87de0: closed
2026-01-28 03:01:05,366 - WebRTCService - INFO - [WEBRTC] Session f4a57de9-6bef-453e-8599-83a425f87de0 closed - cleaning up (mode unchanged)
2026-01-28 03:01:05,366 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:01:06,947 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: f4a57de9-6bef-453e-8599-83a425f87de0
2026-01-28 03:01:06,948 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:01:06,948 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:01:06,948 - RelayClient - INFO - WebRTC request received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:06,950 - WebRTCService - INFO - Created data channel for offer 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:06,950 - WebRTCService - INFO - [WEBRTC] Active connections: ['88a997e0-93ce-4ee2-b42c-a942980fc045']
2026-01-28 03:01:09,591 - WebRTCService - INFO - [WEBRTC] Created offer for session 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:09,592 - RelayClient - INFO - Sent WebRTC offer for session 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:09,714 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:01:09,965 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:01:09,965 - RelayClient - INFO - WebRTC answer received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,353 - WebRTCService - INFO - Set remote description (answer) for session 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,354 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,354 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,354 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,354 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,354 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,354 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,354 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,354 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,355 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,355 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,355 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,355 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,355 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,356 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,356 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,356 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,356 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,356 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,357 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:11,357 - RelayClient - DEBUG - ICE candidate received: session=88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,357 - WebRTCService - DEBUG - Added ICE candidate for 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:11,609 - WebRTCService - INFO - [WEBRTC] ICE state 88a997e0-93ce-4ee2-b42c-a942980fc045: checking
2026-01-28 03:01:11,610 - WebRTCService - INFO - [WEBRTC] Connection 88a997e0-93ce-4ee2-b42c-a942980fc045: connecting
2026-01-28 03:01:12,895 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:01:13,900 - WebRTCService - INFO - [WEBRTC] ICE state 88a997e0-93ce-4ee2-b42c-a942980fc045: completed
2026-01-28 03:01:14,525 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:01:14,526 - RelayClient - INFO - [WEBRTC] Close request: session=88a997e0-93ce-4ee2-b42c-a942980fc045 - mode unchanged
2026-01-28 03:01:14,650 - WebRTCService - INFO - [WEBRTC] ICE state 88a997e0-93ce-4ee2-b42c-a942980fc045: closed
2026-01-28 03:01:14,650 - WebRTCService - WARNING - [WEBRTC] ICE closed for 88a997e0-93ce-4ee2-b42c-a942980fc045, scheduling cleanup...
2026-01-28 03:01:14,650 - WebRTCService - INFO - [WEBRTC] Connection 88a997e0-93ce-4ee2-b42c-a942980fc045: closed
2026-01-28 03:01:14,651 - WebRTCService - INFO - [WEBRTC] Session 88a997e0-93ce-4ee2-b42c-a942980fc045 closed - cleaning up (mode unchanged)
2026-01-28 03:01:14,651 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:01:14,778 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:01:16,288 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 88a997e0-93ce-4ee2-b42c-a942980fc045
2026-01-28 03:01:16,289 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:01:16,289 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:01:16,290 - RelayClient - INFO - WebRTC request received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:16,293 - WebRTCService - INFO - Created data channel for offer 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:16,293 - WebRTCService - INFO - [WEBRTC] Active connections: ['31e5db33-9e43-4b23-b607-bcf21b95be32']
2026-01-28 03:01:19,121 - WebRTCService - INFO - [WEBRTC] Created offer for session 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:19,122 - RelayClient - INFO - Sent WebRTC offer for session 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:19,663 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:01:19,664 - RelayClient - INFO - WebRTC answer received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,121 - WebRTCService - INFO - Set remote description (answer) for session 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,122 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,123 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,123 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,124 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,124 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,124 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,124 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,124 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,124 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,125 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,125 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,125 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,125 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,125 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,125 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,125 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,125 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,125 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,126 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,126 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,126 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,126 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,126 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,127 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,127 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,127 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,127 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,127 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,128 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,128 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,128 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,128 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,128 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,128 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,128 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,128 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,129 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,129 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,129 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,129 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,129 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,129 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,129 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,129 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,129 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,129 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,130 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,130 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:21,130 - RelayClient - DEBUG - ICE candidate received: session=31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,130 - WebRTCService - DEBUG - Added ICE candidate for 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:21,415 - WebRTCService - INFO - [WEBRTC] ICE state 31e5db33-9e43-4b23-b607-bcf21b95be32: checking
2026-01-28 03:01:21,415 - WebRTCService - INFO - [WEBRTC] Connection 31e5db33-9e43-4b23-b607-bcf21b95be32: connecting
2026-01-28 03:01:22,376 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:01:22,376 - RelayClient - INFO - [WEBRTC] Close request: session=31e5db33-9e43-4b23-b607-bcf21b95be32 - mode unchanged
2026-01-28 03:01:22,513 - WebRTCService - INFO - [WEBRTC] ICE state 31e5db33-9e43-4b23-b607-bcf21b95be32: closed
2026-01-28 03:01:22,514 - WebRTCService - WARNING - [WEBRTC] ICE closed for 31e5db33-9e43-4b23-b607-bcf21b95be32, scheduling cleanup...
2026-01-28 03:01:22,514 - WebRTCService - INFO - [WEBRTC] Connection 31e5db33-9e43-4b23-b607-bcf21b95be32: closed
2026-01-28 03:01:22,515 - WebRTCService - INFO - [WEBRTC] Session 31e5db33-9e43-4b23-b607-bcf21b95be32 closed - cleaning up (mode unchanged)
2026-01-28 03:01:22,515 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:01:22,516 - asyncio - ERROR - Exception in callback Transaction.__retry()
2026-01-28 03:01:22,780 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:01:23,310 - asyncio - ERROR - Exception in callback Transaction.__retry()
2026-01-28 03:01:23,856 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 31e5db33-9e43-4b23-b607-bcf21b95be32
2026-01-28 03:01:23,857 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:01:23,857 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:01:23,857 - RelayClient - INFO - WebRTC request received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:23,860 - WebRTCService - INFO - Created data channel for offer e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:23,860 - WebRTCService - INFO - [WEBRTC] Active connections: ['e0ab5da4-c74c-4bf7-b095-3c1205ec96bb']
2026-01-28 03:01:26,685 - WebRTCService - INFO - [WEBRTC] Created offer for session e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:26,685 - RelayClient - INFO - Sent WebRTC offer for session e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:26,686 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:26,820 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:27,122 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:27,258 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:27,259 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:01:27,259 - RelayClient - INFO - WebRTC answer received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:27,524 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:27,524 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:27,650 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:27,917 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:27,918 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:28,048 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:28,315 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:28,315 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:28,443 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:28,708 - WebRTCService - INFO - Set remote description (answer) for session e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,708 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,709 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,709 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,709 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,709 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,709 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,709 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,709 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,709 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,710 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,710 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,710 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,710 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,710 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,710 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,710 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,710 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,710 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,710 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,711 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,711 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,711 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,711 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,711 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,711 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,711 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,711 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,711 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,711 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,711 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,712 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,712 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,712 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,712 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:28,712 - RelayClient - DEBUG - ICE candidate received: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,712 - WebRTCService - DEBUG - Added ICE candidate for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:28,712 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:28,712 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:28,981 - WebRTCService - INFO - [WEBRTC] ICE state e0ab5da4-c74c-4bf7-b095-3c1205ec96bb: checking
2026-01-28 03:01:28,981 - WebRTCService - INFO - [WEBRTC] Connection e0ab5da4-c74c-4bf7-b095-3c1205ec96bb: connecting
2026-01-28 03:01:29,111 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:29,112 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:29,250 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:29,511 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:29,780 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:29,913 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:29,914 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:30,044 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:30,177 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:30,314 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:01:30,315 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:30,583 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:30,715 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:30,856 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:30,858 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:31,126 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:31,258 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:31,389 - WebRTCService - INFO - [WEBRTC] ICE state e0ab5da4-c74c-4bf7-b095-3c1205ec96bb: completed
2026-01-28 03:01:31,529 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:31,668 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:31,668 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:31,944 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:32,103 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:32,374 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:32,511 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:32,777 - WebRTCService - INFO - [WEBRTC] Connection e0ab5da4-c74c-4bf7-b095-3c1205ec96bb: connected
2026-01-28 03:01:32,779 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:33,357 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:33,660 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:34,012 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:34,158 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:34,468 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:34,636 - WebRTCService - INFO - Data channel opened for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:34,780 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:34,944 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:35,077 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:35,524 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:35,831 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:35,831 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:36,281 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:36,794 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:37,306 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.0 hours
2026-01-28 03:01:37,575 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:38,325 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:39,261 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:40,022 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:01:40,024 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:41,522 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:01:41,523 - RelayClient - INFO - [WEBRTC] Close request: session=e0ab5da4-c74c-4bf7-b095-3c1205ec96bb - mode unchanged
2026-01-28 03:01:42,211 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:42,497 - WebRTCService - INFO - Data channel closed for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:42,631 - WebRTCService - INFO - [WEBRTC] ICE state e0ab5da4-c74c-4bf7-b095-3c1205ec96bb: closed
2026-01-28 03:01:42,631 - WebRTCService - WARNING - [WEBRTC] ICE closed for e0ab5da4-c74c-4bf7-b095-3c1205ec96bb, scheduling cleanup...
2026-01-28 03:01:42,631 - WebRTCService - INFO - [WEBRTC] Connection e0ab5da4-c74c-4bf7-b095-3c1205ec96bb: closed
2026-01-28 03:01:42,632 - WebRTCService - INFO - [WEBRTC] Session e0ab5da4-c74c-4bf7-b095-3c1205ec96bb closed - cleaning up (mode unchanged)
2026-01-28 03:01:42,632 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:01:42,633 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:43,058 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:43,330 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:43,748 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:44,026 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:44,166 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: e0ab5da4-c74c-4bf7-b095-3c1205ec96bb
2026-01-28 03:01:44,167 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:01:44,167 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:01:44,168 - RelayClient - INFO - WebRTC request received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:44,171 - WebRTCService - INFO - Created data channel for offer 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:44,171 - WebRTCService - INFO - [WEBRTC] Active connections: ['46fe64fc-89e6-47fb-8a91-7eb7a6ce8771']
2026-01-28 03:01:44,459 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:45,018 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:45,728 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:46,573 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:47,171 - WebRTCService - INFO - [WEBRTC] Created offer for session 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:47,172 - RelayClient - INFO - Sent WebRTC offer for session 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:47,172 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:01:47,173 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_volume, params: {'level': 48}
2026-01-28 03:01:47,492 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:47,636 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:01:47,636 - RelayClient - INFO - WebRTC answer received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:48,195 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:49,178 - WebRTCService - INFO - Set remote description (answer) for session 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,179 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,179 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,179 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,179 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,179 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,179 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,179 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,180 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,180 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,180 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,180 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,180 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,180 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,180 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,180 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,180 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,180 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,180 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,181 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,181 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,181 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,181 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,181 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,181 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,181 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,181 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,181 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,181 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,181 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,182 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,182 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,182 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,182 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,182 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,183 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,183 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,183 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,183 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,183 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,184 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,184 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:01:49,184 - RelayClient - DEBUG - ICE candidate received: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,184 - WebRTCService - DEBUG - Added ICE candidate for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:49,466 - WebRTCService - INFO - [WEBRTC] ICE state 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771: checking
2026-01-28 03:01:49,467 - WebRTCService - INFO - [WEBRTC] Connection 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771: connecting
2026-01-28 03:01:49,880 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:01:49,880 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_prev, params: {'data': {}}
2026-01-28 03:01:50,872 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:01:51,306 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:01:51,307 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_request, params: {'duration': 5}
2026-01-28 03:01:51,602 - WebRTCService - INFO - [WEBRTC] ICE state 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771: completed
2026-01-28 03:01:52,678 - WebRTCService - INFO - [WEBRTC] Connection 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771: connected
2026-01-28 03:01:54,136 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:01:54,137 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_toggle, params: {'data': {}}
2026-01-28 03:01:54,470 - WebRTCService - INFO - Data channel opened for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:55,122 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:01:55,123 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_toggle, params: {'data': {}}
2026-01-28 03:01:55,816 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:01:55,818 - RelayClient - INFO - [WEBRTC] Close request: session=46fe64fc-89e6-47fb-8a91-7eb7a6ce8771 - mode unchanged
2026-01-28 03:01:56,748 - WebRTCService - INFO - Data channel closed for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:56,846 - audio.bark_buffer_arecord - INFO - Found USB audio device at hw:2,0
2026-01-28 03:01:56,847 - audio.bark_buffer_arecord - INFO - BarkAudioBufferArecord initialized: device=hw:2,0, 44100Hz, 1.0s chunks, gain=30.0x
2026-01-28 03:01:56,873 - audio.bark_buffer_arecord - INFO - Recording loop started
2026-01-28 03:01:56,873 - audio.bark_buffer_arecord - INFO - Started audio recording with arecord
2026-01-28 03:01:56,909 - httpx - INFO - HTTP Request: POST http://localhost:8000/ptt/capture "HTTP/1.1 200 OK"
2026-01-28 03:01:56,922 - WebRTCService - INFO - [WEBRTC] ICE state 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771: closed
2026-01-28 03:01:56,923 - WebRTCService - WARNING - [WEBRTC] ICE closed for 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771, scheduling cleanup...
2026-01-28 03:01:56,924 - WebRTCService - INFO - [WEBRTC] Connection 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771: closed
2026-01-28 03:01:56,928 - WebRTCService - INFO - [WEBRTC] Session 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771 closed - cleaning up (mode unchanged)
2026-01-28 03:01:56,929 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:01:58,472 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:58,769 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 46fe64fc-89e6-47fb-8a91-7eb7a6ce8771
2026-01-28 03:01:58,769 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:01:58,769 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:01:58,770 - RelayClient - INFO - WebRTC request received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:01:58,772 - WebRTCService - INFO - Created data channel for offer 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:01:58,772 - WebRTCService - INFO - [WEBRTC] Active connections: ['011250a1-fe68-41da-b2a4-30ac8d11d045']
2026-01-28 03:01:58,920 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:59,225 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:59,525 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:01:59,960 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:00,266 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:00,710 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:01,303 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:01,885 - WebRTCService - INFO - [WEBRTC] Created offer for session 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:01,887 - RelayClient - INFO - Sent WebRTC offer for session 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:01,887 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:02:01,888 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_toggle, params: {'data': {}}
2026-01-28 03:02:01,889 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:02:01,890 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_toggle, params: {'data': {}}
2026-01-28 03:02:01,892 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:02:01,892 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_toggle, params: {'data': {}}
2026-01-28 03:02:01,894 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:02:01,894 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_toggle, params: {'data': {}}
2026-01-28 03:02:01,896 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:02,438 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:02:02,439 - RelayClient - INFO - WebRTC answer received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:02,755 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:03,648 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:04,090 - WebRTCService - INFO - Set remote description (answer) for session 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,091 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,092 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,092 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,092 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,093 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,093 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,093 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,093 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,094 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,094 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,094 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,094 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,094 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,095 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,095 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,095 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,095 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,095 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,095 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,096 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,096 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,096 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,096 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,096 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,096 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,097 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,097 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,097 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,097 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,097 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,097 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,098 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,098 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,098 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:04,098 - RelayClient - DEBUG - ICE candidate received: session=011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,098 - WebRTCService - DEBUG - Added ICE candidate for 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:04,098 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:02:04,099 - RelayClient - INFO - [WEBRTC] Close request: session=011250a1-fe68-41da-b2a4-30ac8d11d045 - mode unchanged
2026-01-28 03:02:04,249 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:04,250 - WebRTCService - INFO - [WEBRTC] ICE state 011250a1-fe68-41da-b2a4-30ac8d11d045: closed
2026-01-28 03:02:04,251 - WebRTCService - WARNING - [WEBRTC] ICE closed for 011250a1-fe68-41da-b2a4-30ac8d11d045, scheduling cleanup...
2026-01-28 03:02:04,251 - WebRTCService - INFO - [WEBRTC] Connection 011250a1-fe68-41da-b2a4-30ac8d11d045: closed
2026-01-28 03:02:04,252 - WebRTCService - INFO - [WEBRTC] Session 011250a1-fe68-41da-b2a4-30ac8d11d045 closed - cleaning up (mode unchanged)
2026-01-28 03:02:04,252 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:02:04,411 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:02:05,291 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 011250a1-fe68-41da-b2a4-30ac8d11d045
2026-01-28 03:02:05,294 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:02:05,295 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:02:05,295 - RelayClient - INFO - WebRTC request received: session=540f4cde-0705-4b00-808f-43db8b7d862d
2026-01-28 03:02:05,303 - WebRTCService - INFO - Created data channel for offer 540f4cde-0705-4b00-808f-43db8b7d862d
2026-01-28 03:02:05,303 - WebRTCService - INFO - [WEBRTC] Active connections: ['540f4cde-0705-4b00-808f-43db8b7d862d']
2026-01-28 03:02:07,387 - audio.bark_buffer_arecord - DEBUG - Recorded 10 chunks
2026-01-28 03:02:08,478 - WebRTCService - INFO - [WEBRTC] Created offer for session 540f4cde-0705-4b00-808f-43db8b7d862d
2026-01-28 03:02:08,479 - RelayClient - INFO - Sent WebRTC offer for session 540f4cde-0705-4b00-808f-43db8b7d862d
2026-01-28 03:02:08,480 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:02:08,480 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_volume, params: {'level': 0}
2026-01-28 03:02:08,483 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:02:08,484 - RelayClient - INFO - [WEBRTC] Close request: session=540f4cde-0705-4b00-808f-43db8b7d862d - mode unchanged
2026-01-28 03:02:08,653 - WebRTCService - INFO - [WEBRTC] ICE state 540f4cde-0705-4b00-808f-43db8b7d862d: closed
2026-01-28 03:02:08,654 - WebRTCService - WARNING - [WEBRTC] ICE closed for 540f4cde-0705-4b00-808f-43db8b7d862d, scheduling cleanup...
2026-01-28 03:02:08,656 - WebRTCService - INFO - [WEBRTC] Connection 540f4cde-0705-4b00-808f-43db8b7d862d: closed
2026-01-28 03:02:08,658 - WebRTCService - INFO - [WEBRTC] Session 540f4cde-0705-4b00-808f-43db8b7d862d closed - cleaning up (mode unchanged)
2026-01-28 03:02:08,658 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:02:10,434 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:02:10,886 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 540f4cde-0705-4b00-808f-43db8b7d862d
2026-01-28 03:02:10,886 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:02:10,887 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:02:10,887 - RelayClient - INFO - WebRTC request received: session=656a2b82-6c6d-481c-af9d-62d089e7c20c
2026-01-28 03:02:10,889 - WebRTCService - INFO - Created data channel for offer 656a2b82-6c6d-481c-af9d-62d089e7c20c
2026-01-28 03:02:10,890 - WebRTCService - INFO - [WEBRTC] Active connections: ['656a2b82-6c6d-481c-af9d-62d089e7c20c']
2026-01-28 03:02:14,083 - WebRTCService - INFO - [WEBRTC] Created offer for session 656a2b82-6c6d-481c-af9d-62d089e7c20c
2026-01-28 03:02:14,084 - RelayClient - INFO - Sent WebRTC offer for session 656a2b82-6c6d-481c-af9d-62d089e7c20c
2026-01-28 03:02:14,084 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:02:14,084 - RelayClient - INFO - [WEBRTC] Close request: session=656a2b82-6c6d-481c-af9d-62d089e7c20c - mode unchanged
2026-01-28 03:02:14,241 - WebRTCService - INFO - [WEBRTC] ICE state 656a2b82-6c6d-481c-af9d-62d089e7c20c: closed
2026-01-28 03:02:14,242 - WebRTCService - WARNING - [WEBRTC] ICE closed for 656a2b82-6c6d-481c-af9d-62d089e7c20c, scheduling cleanup...
2026-01-28 03:02:14,242 - WebRTCService - INFO - [WEBRTC] Connection 656a2b82-6c6d-481c-af9d-62d089e7c20c: closed
2026-01-28 03:02:14,243 - WebRTCService - INFO - [WEBRTC] Session 656a2b82-6c6d-481c-af9d-62d089e7c20c closed - cleaning up (mode unchanged)
2026-01-28 03:02:14,243 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:02:16,486 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 656a2b82-6c6d-481c-af9d-62d089e7c20c
2026-01-28 03:02:16,486 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:02:16,487 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:02:16,488 - RelayClient - INFO - WebRTC request received: session=5d5c001c-644a-4283-852a-f83f173362e3
2026-01-28 03:02:16,490 - WebRTCService - INFO - Created data channel for offer 5d5c001c-644a-4283-852a-f83f173362e3
2026-01-28 03:02:16,491 - WebRTCService - INFO - [WEBRTC] Active connections: ['5d5c001c-644a-4283-852a-f83f173362e3']
2026-01-28 03:02:17,931 - audio.bark_buffer_arecord - DEBUG - Recorded 20 chunks
2026-01-28 03:02:19,684 - WebRTCService - INFO - [WEBRTC] Created offer for session 5d5c001c-644a-4283-852a-f83f173362e3
2026-01-28 03:02:19,686 - RelayClient - INFO - Sent WebRTC offer for session 5d5c001c-644a-4283-852a-f83f173362e3
2026-01-28 03:02:19,686 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:02:19,686 - RelayClient - INFO - [WEBRTC] Close request: session=5d5c001c-644a-4283-852a-f83f173362e3 - mode unchanged
2026-01-28 03:02:19,836 - WebRTCService - INFO - [WEBRTC] ICE state 5d5c001c-644a-4283-852a-f83f173362e3: closed
2026-01-28 03:02:19,836 - WebRTCService - WARNING - [WEBRTC] ICE closed for 5d5c001c-644a-4283-852a-f83f173362e3, scheduling cleanup...
2026-01-28 03:02:19,837 - WebRTCService - INFO - [WEBRTC] Connection 5d5c001c-644a-4283-852a-f83f173362e3: closed
2026-01-28 03:02:19,838 - WebRTCService - INFO - [WEBRTC] Session 5d5c001c-644a-4283-852a-f83f173362e3 closed - cleaning up (mode unchanged)
2026-01-28 03:02:19,839 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:02:22,046 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 5d5c001c-644a-4283-852a-f83f173362e3
2026-01-28 03:02:22,047 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:02:22,047 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:02:22,048 - RelayClient - INFO - WebRTC request received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:22,050 - WebRTCService - INFO - Created data channel for offer c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:22,050 - WebRTCService - INFO - [WEBRTC] Active connections: ['c99798a0-4998-4bcf-a07d-591bd7e10f07']
2026-01-28 03:02:25,243 - WebRTCService - INFO - [WEBRTC] Created offer for session c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:25,244 - RelayClient - INFO - Sent WebRTC offer for session c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:25,245 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:02:25,245 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:02:25,247 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:02:25,864 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:02:25,864 - RelayClient - INFO - WebRTC answer received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,520 - WebRTCService - INFO - Set remote description (answer) for session c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,521 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,521 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,521 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,522 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,522 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,522 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,522 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,523 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,523 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,523 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,523 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,523 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,524 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,524 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,524 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,524 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,524 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,525 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,525 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,525 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,525 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,525 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,526 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,526 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,526 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,526 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,526 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,527 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,527 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,527 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,527 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,528 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,528 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,528 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:02:27,528 - RelayClient - DEBUG - ICE candidate received: session=c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,529 - WebRTCService - DEBUG - Added ICE candidate for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:27,843 - WebRTCService - INFO - [WEBRTC] ICE state c99798a0-4998-4bcf-a07d-591bd7e10f07: checking
2026-01-28 03:02:27,843 - WebRTCService - INFO - [WEBRTC] Connection c99798a0-4998-4bcf-a07d-591bd7e10f07: connecting
2026-01-28 03:02:28,474 - audio.bark_buffer_arecord - DEBUG - Recorded 30 chunks
2026-01-28 03:02:29,388 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:30,605 - WebRTCService - INFO - [WEBRTC] ICE state c99798a0-4998-4bcf-a07d-591bd7e10f07: completed
2026-01-28 03:02:30,910 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:31,366 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:31,664 - WebRTCService - INFO - [WEBRTC] Connection c99798a0-4998-4bcf-a07d-591bd7e10f07: connected
2026-01-28 03:02:31,666 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:31,971 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:32,311 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:32,679 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:33,188 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:33,557 - WebRTCService - INFO - Data channel opened for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:02:33,742 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:34,255 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:35,279 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:36,105 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:36,807 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:02:38,669 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.0 hours
2026-01-28 03:02:39,028 - audio.bark_buffer_arecord - DEBUG - Recorded 40 chunks
2026-01-28 03:02:40,905 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:02:48,896 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: CPU usage high: 90.2%
2026-01-28 03:02:49,578 - audio.bark_buffer_arecord - DEBUG - Recorded 50 chunks
2026-01-28 03:03:00,147 - audio.bark_buffer_arecord - DEBUG - Recorded 60 chunks
2026-01-28 03:03:00,809 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:03:00,809 - RelayClient - INFO - [WEBRTC] Close request: session=c99798a0-4998-4bcf-a07d-591bd7e10f07 - mode unchanged
2026-01-28 03:03:01,790 - WebRTCService - INFO - Data channel closed for c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:03:01,945 - WebRTCService - INFO - [WEBRTC] ICE state c99798a0-4998-4bcf-a07d-591bd7e10f07: closed
2026-01-28 03:03:01,946 - WebRTCService - WARNING - [WEBRTC] ICE closed for c99798a0-4998-4bcf-a07d-591bd7e10f07, scheduling cleanup...
2026-01-28 03:03:01,946 - WebRTCService - INFO - [WEBRTC] Connection c99798a0-4998-4bcf-a07d-591bd7e10f07: closed
2026-01-28 03:03:01,947 - WebRTCService - INFO - [WEBRTC] Session c99798a0-4998-4bcf-a07d-591bd7e10f07 closed - cleaning up (mode unchanged)
2026-01-28 03:03:01,947 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:03:03,844 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: c99798a0-4998-4bcf-a07d-591bd7e10f07
2026-01-28 03:03:03,845 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:03:03,845 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:03:03,845 - RelayClient - INFO - WebRTC request received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:03,849 - WebRTCService - INFO - Created data channel for offer 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:03,849 - WebRTCService - INFO - [WEBRTC] Active connections: ['5f227035-576f-45d2-9b49-4dcc983040d5']
2026-01-28 03:03:07,128 - WebRTCService - INFO - [WEBRTC] Created offer for session 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:07,128 - RelayClient - INFO - Sent WebRTC offer for session 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:07,599 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:03:07,599 - RelayClient - INFO - WebRTC answer received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,333 - WebRTCService - INFO - Set remote description (answer) for session 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,334 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,334 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,335 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,335 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,335 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,336 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,336 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,337 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,337 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,337 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,338 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,338 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,338 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,338 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,339 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,339 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,339 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,340 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,340 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,340 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,340 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,340 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,341 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,341 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,341 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,341 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,342 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,342 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,342 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,342 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,342 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,343 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,343 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,343 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,343 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,343 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,344 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,344 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,344 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,344 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,345 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,345 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,345 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,345 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,345 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,346 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,346 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,346 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,346 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,346 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,347 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,347 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,347 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,347 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,348 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:09,348 - RelayClient - DEBUG - ICE candidate received: session=5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,348 - WebRTCService - DEBUG - Added ICE candidate for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:09,672 - WebRTCService - INFO - [WEBRTC] ICE state 5f227035-576f-45d2-9b49-4dcc983040d5: checking
2026-01-28 03:03:09,672 - WebRTCService - INFO - [WEBRTC] Connection 5f227035-576f-45d2-9b49-4dcc983040d5: connecting
2026-01-28 03:03:10,676 - audio.bark_buffer_arecord - DEBUG - Recorded 70 chunks
2026-01-28 03:03:11,215 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:03:11,216 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:03:11,978 - WebRTCService - INFO - [WEBRTC] ICE state 5f227035-576f-45d2-9b49-4dcc983040d5: completed
2026-01-28 03:03:13,085 - WebRTCService - INFO - [WEBRTC] Connection 5f227035-576f-45d2-9b49-4dcc983040d5: connected
2026-01-28 03:03:15,008 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:03:15,009 - RelayClient - INFO - [WEBRTC] Close request: session=5f227035-576f-45d2-9b49-4dcc983040d5 - mode unchanged
2026-01-28 03:03:15,200 - WebRTCService - INFO - Data channel opened for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:16,083 - WebRTCService - INFO - Data channel closed for 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:16,259 - WebRTCService - INFO - [WEBRTC] ICE state 5f227035-576f-45d2-9b49-4dcc983040d5: closed
2026-01-28 03:03:16,259 - WebRTCService - WARNING - [WEBRTC] ICE closed for 5f227035-576f-45d2-9b49-4dcc983040d5, scheduling cleanup...
2026-01-28 03:03:16,259 - WebRTCService - INFO - [WEBRTC] Connection 5f227035-576f-45d2-9b49-4dcc983040d5: closed
2026-01-28 03:03:16,260 - WebRTCService - INFO - [WEBRTC] Session 5f227035-576f-45d2-9b49-4dcc983040d5 closed - cleaning up (mode unchanged)
2026-01-28 03:03:16,260 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:03:18,310 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 5f227035-576f-45d2-9b49-4dcc983040d5
2026-01-28 03:03:18,310 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:03:18,310 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:03:18,310 - RelayClient - INFO - WebRTC request received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:18,312 - WebRTCService - INFO - Created data channel for offer 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:18,312 - WebRTCService - INFO - [WEBRTC] Active connections: ['935426d6-58c4-4034-8106-b394a9e034c5']
2026-01-28 03:03:21,262 - audio.bark_buffer_arecord - DEBUG - Recorded 80 chunks
2026-01-28 03:03:21,862 - WebRTCService - INFO - [WEBRTC] Created offer for session 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:21,862 - RelayClient - INFO - Sent WebRTC offer for session 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:22,367 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:03:22,367 - RelayClient - INFO - WebRTC answer received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,240 - WebRTCService - INFO - Set remote description (answer) for session 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,241 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,242 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,242 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,243 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,243 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,243 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,243 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,243 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,244 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,244 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,244 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,244 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,244 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,244 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,244 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,245 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,245 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,245 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,245 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,245 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,245 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,245 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,245 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,245 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,245 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,245 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,246 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,246 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,246 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,246 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,246 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,246 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,246 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,246 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:24,246 - RelayClient - DEBUG - ICE candidate received: session=935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,246 - WebRTCService - DEBUG - Added ICE candidate for 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:24,584 - WebRTCService - INFO - [WEBRTC] ICE state 935426d6-58c4-4034-8106-b394a9e034c5: checking
2026-01-28 03:03:24,585 - WebRTCService - INFO - [WEBRTC] Connection 935426d6-58c4-4034-8106-b394a9e034c5: connecting
2026-01-28 03:03:26,285 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:03:27,637 - WebRTCService - INFO - [WEBRTC] ICE state 935426d6-58c4-4034-8106-b394a9e034c5: completed
2026-01-28 03:03:28,666 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:03:28,666 - RelayClient - INFO - [WEBRTC] Close request: session=935426d6-58c4-4034-8106-b394a9e034c5 - mode unchanged
2026-01-28 03:03:28,830 - WebRTCService - INFO - [WEBRTC] Connection 935426d6-58c4-4034-8106-b394a9e034c5: connected
2026-01-28 03:03:29,865 - WebRTCService - INFO - [WEBRTC] ICE state 935426d6-58c4-4034-8106-b394a9e034c5: closed
2026-01-28 03:03:29,867 - WebRTCService - WARNING - [WEBRTC] ICE closed for 935426d6-58c4-4034-8106-b394a9e034c5, scheduling cleanup...
2026-01-28 03:03:29,868 - WebRTCService - INFO - [WEBRTC] Connection 935426d6-58c4-4034-8106-b394a9e034c5: closed
2026-01-28 03:03:29,872 - WebRTCService - INFO - [WEBRTC] Session 935426d6-58c4-4034-8106-b394a9e034c5 closed - cleaning up (mode unchanged)
2026-01-28 03:03:29,873 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:03:31,789 - audio.bark_buffer_arecord - DEBUG - Recorded 90 chunks
2026-01-28 03:03:31,950 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 935426d6-58c4-4034-8106-b394a9e034c5
2026-01-28 03:03:31,951 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:03:31,951 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:03:31,952 - RelayClient - INFO - WebRTC request received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:31,954 - WebRTCService - INFO - Created data channel for offer 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:31,955 - WebRTCService - INFO - [WEBRTC] Active connections: ['1002f395-ecfc-4155-abfc-ea86be947077']
2026-01-28 03:03:35,682 - WebRTCService - INFO - [WEBRTC] Created offer for session 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:35,683 - RelayClient - INFO - Sent WebRTC offer for session 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:36,201 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:03:36,202 - RelayClient - INFO - WebRTC answer received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,103 - WebRTCService - INFO - Set remote description (answer) for session 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,104 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,104 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,105 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,105 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,106 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,106 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,106 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,107 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,108 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,108 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,108 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,108 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,108 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,109 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,109 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,109 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:03:38,109 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:03:38,110 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:03:38,111 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,111 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,111 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,111 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,112 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,112 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,112 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,112 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,112 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,113 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,113 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,113 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,113 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,113 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,113 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,114 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,114 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,114 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,114 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,114 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,114 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,114 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,114 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,114 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,115 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,115 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,115 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,115 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,115 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,115 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,115 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,115 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,115 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,115 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,115 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,116 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,116 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,116 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,116 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,116 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:38,116 - RelayClient - DEBUG - ICE candidate received: session=1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,116 - WebRTCService - DEBUG - Added ICE candidate for 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:38,477 - WebRTCService - INFO - [WEBRTC] ICE state 1002f395-ecfc-4155-abfc-ea86be947077: checking
2026-01-28 03:03:38,477 - WebRTCService - INFO - [WEBRTC] Connection 1002f395-ecfc-4155-abfc-ea86be947077: connecting
2026-01-28 03:03:40,103 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.0 hours
2026-01-28 03:03:40,237 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:03:40,774 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:03:40,775 - RelayClient - INFO - [WEBRTC] Close request: session=1002f395-ecfc-4155-abfc-ea86be947077 - mode unchanged
2026-01-28 03:03:40,949 - WebRTCService - INFO - [WEBRTC] ICE state 1002f395-ecfc-4155-abfc-ea86be947077: closed
2026-01-28 03:03:40,949 - WebRTCService - WARNING - [WEBRTC] ICE closed for 1002f395-ecfc-4155-abfc-ea86be947077, scheduling cleanup...
2026-01-28 03:03:40,949 - WebRTCService - INFO - [WEBRTC] Connection 1002f395-ecfc-4155-abfc-ea86be947077: closed
2026-01-28 03:03:40,950 - WebRTCService - INFO - [WEBRTC] Session 1002f395-ecfc-4155-abfc-ea86be947077 closed - cleaning up (mode unchanged)
2026-01-28 03:03:40,950 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:03:40,952 - asyncio - ERROR - Exception in callback Transaction.__retry()
2026-01-28 03:03:41,666 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:03:42,320 - audio.bark_buffer_arecord - DEBUG - Recorded 100 chunks
2026-01-28 03:03:43,115 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 1002f395-ecfc-4155-abfc-ea86be947077
2026-01-28 03:03:43,115 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:03:43,116 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:03:43,116 - RelayClient - INFO - WebRTC request received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:43,118 - WebRTCService - INFO - Created data channel for offer 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:43,119 - WebRTCService - INFO - [WEBRTC] Active connections: ['332bff6c-5845-4b5c-9d1f-1cad49431977']
2026-01-28 03:03:46,973 - WebRTCService - INFO - [WEBRTC] Created offer for session 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:46,973 - RelayClient - INFO - Sent WebRTC offer for session 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:47,512 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:03:47,512 - RelayClient - INFO - WebRTC answer received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,534 - WebRTCService - INFO - Set remote description (answer) for session 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,535 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,535 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,535 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,535 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,536 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,536 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,536 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,536 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,536 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,537 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,537 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,537 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,537 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,537 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,537 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,537 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,538 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,538 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,538 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,538 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,538 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,538 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,538 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,538 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,539 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,539 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,539 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,539 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,540 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,540 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,540 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,540 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,540 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,540 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:03:49,540 - RelayClient - DEBUG - ICE candidate received: session=332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,540 - WebRTCService - DEBUG - Added ICE candidate for 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:49,900 - WebRTCService - INFO - [WEBRTC] ICE state 332bff6c-5845-4b5c-9d1f-1cad49431977: checking
2026-01-28 03:03:49,901 - WebRTCService - INFO - [WEBRTC] Connection 332bff6c-5845-4b5c-9d1f-1cad49431977: connecting
2026-01-28 03:03:51,708 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:03:52,247 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:03:52,247 - RelayClient - INFO - WebRTC request received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:03:52,248 - WebRTCService - WARNING - [WEBRTC] Closing 1 existing session(s) before new request: ['332bff6c-5845-4b5c-9d1f-1cad49431977']
2026-01-28 03:03:52,426 - WebRTCService - INFO - [WEBRTC] ICE state 332bff6c-5845-4b5c-9d1f-1cad49431977: closed
2026-01-28 03:03:52,427 - WebRTCService - WARNING - [WEBRTC] ICE closed for 332bff6c-5845-4b5c-9d1f-1cad49431977, scheduling cleanup...
2026-01-28 03:03:52,427 - WebRTCService - INFO - [WEBRTC] Connection 332bff6c-5845-4b5c-9d1f-1cad49431977: closed
2026-01-28 03:03:52,428 - WebRTCService - INFO - [WEBRTC] Session 332bff6c-5845-4b5c-9d1f-1cad49431977 closed - cleaning up (mode unchanged)
2026-01-28 03:03:52,428 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:03:52,428 - asyncio - ERROR - Exception in callback Transaction.__retry()
2026-01-28 03:03:52,783 - asyncio - ERROR - Exception in callback Transaction.__retry()
2026-01-28 03:03:52,909 - audio.bark_buffer_arecord - DEBUG - Recorded 110 chunks
2026-01-28 03:03:53,529 - asyncio - ERROR - Exception in callback Transaction.__retry()
2026-01-28 03:03:54,264 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:54,264 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:03:54,264 - WebRTCService - INFO - [WEBRTC] Closed existing session: 332bff6c-5845-4b5c-9d1f-1cad49431977
2026-01-28 03:03:54,265 - asyncio - ERROR - Exception in callback Transaction.__retry()
2026-01-28 03:03:54,974 - WebRTCService - INFO - [WEBRTC] Active connections after cleanup: []
2026-01-28 03:03:54,977 - WebRTCService - INFO - Created data channel for offer 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:03:54,977 - WebRTCService - INFO - [WEBRTC] Active connections: ['4396ad91-9392-4fcc-b97c-d20e0889e6fd']
2026-01-28 03:03:55,167 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:55,521 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:55,714 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:55,900 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:56,080 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:56,263 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:56,444 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:56,799 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:56,982 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:57,156 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:57,515 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:57,870 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:58,051 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:58,233 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:58,234 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:58,794 - WebRTCService - INFO - [WEBRTC] Created offer for session 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:03:58,795 - RelayClient - INFO - Sent WebRTC offer for session 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:03:58,795 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:58,971 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:59,143 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:59,335 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:03:59,517 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:03:59,518 - RelayClient - INFO - WebRTC answer received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:03:59,696 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:00,247 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:00,248 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:01,356 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:01,530 - WebRTCService - INFO - Set remote description (answer) for session 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,531 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,532 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,532 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,532 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,532 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,533 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,533 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,533 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,533 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,533 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,533 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,534 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,534 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,534 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,534 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,534 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,534 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,534 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,534 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,535 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,535 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,535 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,535 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,535 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,535 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,535 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,536 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,536 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,536 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,536 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,536 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,536 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,536 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,536 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,537 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,537 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,537 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,537 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,537 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,537 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,537 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,537 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,538 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,538 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,538 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,538 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,538 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:04:01,539 - RelayClient - DEBUG - ICE candidate received: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,539 - WebRTCService - DEBUG - Added ICE candidate for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:01,896 - WebRTCService - INFO - [WEBRTC] ICE state 4396ad91-9392-4fcc-b97c-d20e0889e6fd: checking
2026-01-28 03:04:01,896 - WebRTCService - INFO - [WEBRTC] Connection 4396ad91-9392-4fcc-b97c-d20e0889e6fd: connecting
2026-01-28 03:04:02,440 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:02,440 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:02,975 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:03,412 - audio.bark_buffer_arecord - DEBUG - Recorded 120 chunks
2026-01-28 03:04:03,776 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:04:03,777 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:03,963 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:04,513 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:04,685 - WebRTCService - INFO - [WEBRTC] ICE state 4396ad91-9392-4fcc-b97c-d20e0889e6fd: completed
2026-01-28 03:04:05,578 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:06,131 - WebRTCService - INFO - [WEBRTC] Connection 4396ad91-9392-4fcc-b97c-d20e0889e6fd: connected
2026-01-28 03:04:06,732 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:08,787 - WebRTCService - INFO - Data channel opened for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:04:10,778 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:11,386 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:12,025 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:12,228 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:04:12,229 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:12,828 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:13,921 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:13,985 - audio.bark_buffer_arecord - DEBUG - Recorded 130 chunks
2026-01-28 03:04:15,086 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:24,596 - audio.bark_buffer_arecord - DEBUG - Recorded 140 chunks
2026-01-28 03:04:27,174 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:27,782 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:04:27,782 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:04:27,783 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:04:27,785 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:28,395 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:28,606 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:29,211 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:30,200 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:31,467 - asyncio - WARNING - socket.send() raised exception.
2026-01-28 03:04:35,144 - audio.bark_buffer_arecord - DEBUG - Recorded 150 chunks
2026-01-28 03:04:38,855 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:04:38,856 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'silent_guardian'}
2026-01-28 03:04:38,857 - RelayClient - INFO - üì± Mode changed to silent_guardian via app command
2026-01-28 03:04:38,860 - WebRTCService - INFO - Video track paused for camera reconfig
2026-01-28 03:04:39,852 - WebRTCService - INFO - Video track resumed after camera reconfig
2026-01-28 03:04:41,562 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.0 hours
2026-01-28 03:04:42,330 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:04:46,008 - audio.bark_buffer_arecord - DEBUG - Recorded 160 chunks
2026-01-28 03:04:56,880 - audio.bark_buffer_arecord - DEBUG - Recorded 170 chunks
2026-01-28 03:04:59,210 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:04:59,885 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:05:00,424 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:05:00,619 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:05:01,298 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:05:02,236 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:05:02,567 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:05:02,568 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:05:02,569 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:05:02,573 - WebRTCService - INFO - Video track paused for camera reconfig
2026-01-28 03:05:03,270 - DetectorService - WARNING - Resolution change already in progress, skipping
2026-01-28 03:05:03,453 - WebRTCService - INFO - Video track resumed after camera reconfig
2026-01-28 03:05:03,857 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:05:06,364 - audio.bark_buffer_arecord - INFO - Recording loop ended
2026-01-28 03:05:06,367 - audio.bark_buffer_arecord - INFO - Stopped audio recording. Stats: 179 recorded, 0 failed
2026-01-28 03:05:12,819 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:05:43,110 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.0 hours
2026-01-28 03:05:43,255 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:05:53,886 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:05:53,887 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:05:53,887 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:06:03,903 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:03,904 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:06:03,904 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:06:03,905 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:03,906 - RelayClient - INFO - ‚òÅÔ∏è Command: set_manual_control, params: {'active': True}
2026-01-28 03:06:09,002 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:09,003 - RelayClient - INFO - ‚òÅÔ∏è Command: set_manual_control, params: {'active': False}
2026-01-28 03:06:13,681 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:06:33,672 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:33,673 - RelayClient - INFO - ‚òÅÔ∏è Command: led, params: {'pattern': 'warning'}
2026-01-28 03:06:33,674 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:33,674 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'no', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:06:33,802 - TreatBotMain - ERROR - ‚òÅÔ∏è play_voice error: cannot access local variable 'get_usb_audio_service' where it is not associated with a value
2026-01-28 03:06:37,848 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:37,848 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441492377', 'dog_name': 'Elsa'}
2026-01-28 03:06:42,981 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:42,981 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441492377', 'dog_name': 'Elsa'}
2026-01-28 03:06:44,186 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:06:44,374 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:44,374 - RelayClient - INFO - ‚òÅÔ∏è Command: audio_volume, params: {'level': 100}
2026-01-28 03:06:44,442 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.1 hours
2026-01-28 03:06:45,456 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:45,456 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441492377', 'dog_name': 'Elsa'}
2026-01-28 03:06:48,509 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:48,509 - RelayClient - INFO - ‚òÅÔ∏è Command: led, params: {'pattern': 'warning'}
2026-01-28 03:06:48,511 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:48,512 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'no', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:06:48,621 - TreatBotMain - ERROR - ‚òÅÔ∏è play_voice error: cannot access local variable 'get_usb_audio_service' where it is not associated with a value
2026-01-28 03:06:53,469 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:06:53,469 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:06:53,585 - TreatBotMain - ERROR - ‚òÅÔ∏è play_voice error: cannot access local variable 'get_usb_audio_service' where it is not associated with a value
2026-01-28 03:07:14,609 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:07:22,532 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:07:22,532 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'treat', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:07:22,653 - TreatBotMain - ERROR - ‚òÅÔ∏è play_voice error: cannot access local variable 'get_usb_audio_service' where it is not associated with a value
2026-01-28 03:07:29,545 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:07:29,545 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'treat', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:07:29,694 - TreatBotMain - ERROR - ‚òÅÔ∏è play_voice error: cannot access local variable 'get_usb_audio_service' where it is not associated with a value
2026-01-28 03:07:30,545 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Memory usage high: 85.0%
2026-01-28 03:07:30,619 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:07:30,619 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'treat', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:07:30,779 - TreatBotMain - ERROR - ‚òÅÔ∏è play_voice error: cannot access local variable 'get_usb_audio_service' where it is not associated with a value
2026-01-28 03:07:45,027 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:07:45,896 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.1 hours
2026-01-28 03:08:15,599 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:08:31,921 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Memory usage high: 93.0%
2026-01-28 03:08:46,145 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:08:47,320 - SafetyMonitor - WARNING - SAFETY ALERT [WARNING]: Runtime limit reached: 3.1 hours
2026-01-28 03:08:52,441 - SafetyMonitor - WARNING - SAFETY ALERT [CRITICAL]: Memory usage critical: 97.0%
2026-01-28 03:09:00,608 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:09:00,612 - RelayClient - INFO - [WEBRTC] Close request: session=4396ad91-9392-4fcc-b97c-d20e0889e6fd - mode unchanged
2026-01-28 03:09:01,304 - WebRTCService - INFO - Data channel closed for 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:09:03,282 - WebRTCService - INFO - [WEBRTC] Connection 4396ad91-9392-4fcc-b97c-d20e0889e6fd: closed
2026-01-28 03:09:03,306 - WebRTCService - INFO - [WEBRTC] Session 4396ad91-9392-4fcc-b97c-d20e0889e6fd closed - cleaning up (mode unchanged)
2026-01-28 03:09:03,306 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:09:04,213 - WebRTCService - INFO - [WEBRTC] ICE state 4396ad91-9392-4fcc-b97c-d20e0889e6fd: closed
2026-01-28 03:09:04,214 - WebRTCService - WARNING - [WEBRTC] ICE closed for 4396ad91-9392-4fcc-b97c-d20e0889e6fd, scheduling cleanup...
2026-01-28 03:09:06,494 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 4396ad91-9392-4fcc-b97c-d20e0889e6fd
2026-01-28 03:09:06,494 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:09:09,406 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:09:09,407 - RelayClient - INFO - WebRTC request received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:09,506 - WebRTCService - INFO - Created data channel for offer 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:09,506 - WebRTCService - INFO - [WEBRTC] Active connections: ['63a352d8-09c6-4a5d-aaa4-761cf9ff4b78']
2026-01-28 03:09:13,467 - WebRTCService - INFO - [WEBRTC] Created offer for session 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:13,468 - RelayClient - INFO - Sent WebRTC offer for session 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:14,247 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:09:14,248 - RelayClient - INFO - WebRTC answer received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,307 - WebRTCService - INFO - Set remote description (answer) for session 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,308 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,308 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,309 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,311 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,312 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,313 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,313 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,314 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,314 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,315 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,315 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,316 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,316 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,316 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,317 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,317 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,317 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,317 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,318 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,318 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,318 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,319 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,319 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,319 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,320 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,320 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,320 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,320 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,321 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,321 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,321 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,321 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,321 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,321 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,321 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,321 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,322 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,322 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,322 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,322 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,322 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,322 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,322 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,323 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,323 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,323 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,323 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,323 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,323 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,323 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,323 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,324 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,324 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,324 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,324 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:09:16,324 - RelayClient - DEBUG - ICE candidate received: session=63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,324 - WebRTCService - DEBUG - Added ICE candidate for 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78
2026-01-28 03:09:16,691 - WebRTCService - INFO - [WEBRTC] ICE state 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78: checking
2026-01-28 03:09:16,692 - WebRTCService - INFO - [WEBRTC] Connection 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78: connecting
2026-01-28 03:09:16,698 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:09:18,625 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:09:19,610 - WebRTCService - INFO - [WEBRTC] ICE state 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78: completed
2026-01-28 03:09:20,771 - WebRTCService - INFO - [WEBRTC] Connection 63a352d8-09c6-4a5d-aaa4-761cf9ff4b78: connected
2026-01-28 03:10:21,112 - core.ai_controller_3stage_fixed - INFO - Loaded config: {'imgsz': [640, 640], 'T': 16, 'behaviors': ['stand', 'sit', 'lie', 'spin'], 'prob_th': 0.7, 'cooldown_s': {'stand': 2, 'sit': 5, 'lie': 5, 'spin': 8}, 'aruco_dict': 'DICT_4X4_1000', 'dogs': [{'id': 'elsa', 'marker_id': 315}, {'id': 'bezik', 'marker_id': 832}], 'assume_other_if_two_boxes_one_marker': True, 'camera_rotation_deg': 90, 'hef_path': 'dogpose_14.hef', 'detect_path': 'dogdetector_14.hef', 'behavior_head_t
2026-01-28 03:10:21,115 - services.ai.pose_validator - INFO - PoseValidator initialized with config: blur_th=70.0, min_kp=4, temporal_window=4
2026-01-28 03:10:21,116 - core.ai_controller_3stage_fixed - INFO - PoseValidator initialized for behavior filtering
2026-01-28 03:10:21,274 - core.ai_controller_3stage_fixed - INFO - Using single model for detection+pose: dogpose_14.hef
2026-01-28 03:10:21,532 - core.ai_controller_3stage_fixed - INFO - Pose model loaded: dogpose_14.hef
2026-01-28 03:10:21,625 - core.ai_controller_3stage_fixed - INFO - TorchScript behavior model loaded: behavior_14.ts
2026-01-28 03:10:21,625 - core.ai_controller_3stage_fixed - INFO - AI Controller initialized with single-model Hailo + TorchScript behavior
2026-01-28 03:10:21,641 - audio.bark_buffer_arecord - INFO - Found USB audio device at hw:2,0
2026-01-28 03:10:21,641 - audio.bark_buffer_arecord - INFO - BarkAudioBufferArecord initialized: device=hw:2,0, 44100Hz, 1.0s chunks, gain=30.0x
2026-01-28 03:10:21,647 - audio.bark_buffer_arecord - INFO - Found USB audio device at hw:2,0
2026-01-28 03:10:21,647 - audio.bark_buffer_arecord - INFO - BarkAudioBufferArecord initialized: device=hw:2,0, 44100Hz, 1.0s chunks, gain=30.0x
2026-01-28 03:10:22,147 - TreatBotMain - INFO - ‚úÖ Motor bus initialized (WebRTC direct control - no Xbox)
2026-01-28 03:10:22,519 - WebRTCService - INFO - WebRTCService initialized (max 2 connections)
2026-01-28 03:10:22,520 - TreatBotMain - INFO - ‚úÖ WebRTC service initialized
2026-01-28 03:10:22,520 - RelayClient - INFO - RelayClient initialized (enabled=True)
2026-01-28 03:10:22,520 - RelayClient - INFO - WebRTC service connected to relay client
2026-01-28 03:10:22,530 - core.behavior_interpreter - INFO - Loaded trick rules from /home/morgan/dogbot/configs/trick_rules.yaml
2026-01-28 03:10:22,531 - core.behavior_interpreter - INFO - BehaviorInterpreter initialized with 5 tricks
2026-01-28 03:10:22,557 - RelayClient - INFO - Relay client started
2026-01-28 03:10:22,557 - RelayClient - INFO - Connecting to relay: wss://api.wimzai.com/ws/device
2026-01-28 03:10:22,779 - RelayClient - INFO - Connected to cloud relay
2026-01-28 03:10:22,780 - RelayClient - INFO - üì§ Requested dog profiles from cloud
2026-01-28 03:10:24,165 - core.hardware.proper_pid_motor_controller - WARNING - ‚è∞ Watchdog timeout - no commands received, stopping motors
2026-01-28 03:10:52,781 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:11:22,781 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:11:52,783 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:12:22,791 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:12:52,797 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:12:59,805 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:12:59,806 - RelayClient - INFO - WebRTC request received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:12:59,832 - WebRTCService - INFO - Created data channel for offer f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:12:59,833 - WebRTCService - INFO - [WEBRTC] Active connections: ['f0aead50-cb52-4d40-b283-ec5fdc34a674']
2026-01-28 03:12:59,909 - WebRTCService - INFO - [WEBRTC] Created offer for session f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:12:59,910 - RelayClient - INFO - Sent WebRTC offer for session f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:12:59,970 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:12:59,971 - RelayClient - INFO - WebRTC answer received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,011 - WebRTCService - INFO - Set remote description (answer) for session f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,011 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,012 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,012 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,012 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,012 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,012 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,013 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,013 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,013 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,013 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,013 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,014 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,014 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,014 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,014 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,014 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,014 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,015 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,016 - WebRTCService - INFO - [WEBRTC] ICE state f0aead50-cb52-4d40-b283-ec5fdc34a674: checking
2026-01-28 03:13:00,016 - WebRTCService - INFO - [WEBRTC] Connection f0aead50-cb52-4d40-b283-ec5fdc34a674: connecting
2026-01-28 03:13:00,050 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,052 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,052 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,061 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,061 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,061 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,062 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,062 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,062 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,066 - asyncio - ERROR - Task exception was never retrieved
2026-01-28 03:13:00,072 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,072 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,072 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,076 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,077 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,077 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,077 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,077 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,077 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,077 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,077 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,077 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,077 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,078 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,078 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,078 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,078 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,078 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,100 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,100 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,101 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,101 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:13:00,101 - RelayClient - DEBUG - ICE candidate received: session=f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,101 - WebRTCService - DEBUG - Added ICE candidate for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:00,130 - WebRTCService - INFO - [WEBRTC] ICE state f0aead50-cb52-4d40-b283-ec5fdc34a674: completed
2026-01-28 03:13:00,142 - WebRTCService - INFO - [WEBRTC] Connection f0aead50-cb52-4d40-b283-ec5fdc34a674: connected
2026-01-28 03:13:00,189 - WebRTCService - INFO - Data channel opened for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:22,798 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:13:25,373 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:13:25,373 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:13:25,374 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:13:48,012 - WebRTCService - INFO - Data channel closed for f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:48,012 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:13:48,013 - RelayClient - INFO - [WEBRTC] Close request: session=f0aead50-cb52-4d40-b283-ec5fdc34a674 - mode unchanged
2026-01-28 03:13:48,016 - WebRTCService - INFO - [WEBRTC] ICE state f0aead50-cb52-4d40-b283-ec5fdc34a674: closed
2026-01-28 03:13:48,016 - WebRTCService - WARNING - [WEBRTC] ICE closed for f0aead50-cb52-4d40-b283-ec5fdc34a674, scheduling cleanup...
2026-01-28 03:13:48,016 - WebRTCService - INFO - [WEBRTC] Connection f0aead50-cb52-4d40-b283-ec5fdc34a674: closed
2026-01-28 03:13:48,017 - WebRTCService - INFO - [WEBRTC] Session f0aead50-cb52-4d40-b283-ec5fdc34a674 closed - cleaning up (mode unchanged)
2026-01-28 03:13:48,017 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:13:48,025 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: f0aead50-cb52-4d40-b283-ec5fdc34a674
2026-01-28 03:13:48,025 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:13:52,799 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:14:22,800 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:14:26,237 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:14:26,237 - RelayClient - INFO - WebRTC request received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,241 - WebRTCService - INFO - Created data channel for offer 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,241 - WebRTCService - INFO - [WEBRTC] Active connections: ['49cdd53a-289a-4db7-92e4-06593ada7206']
2026-01-28 03:14:26,282 - WebRTCService - INFO - [WEBRTC] Created offer for session 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,283 - RelayClient - INFO - Sent WebRTC offer for session 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,342 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:14:26,342 - RelayClient - INFO - WebRTC answer received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,352 - WebRTCService - INFO - Set remote description (answer) for session 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,352 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:14:26,352 - RelayClient - DEBUG - ICE candidate received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,352 - WebRTCService - DEBUG - Added ICE candidate for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,353 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:14:26,353 - RelayClient - DEBUG - ICE candidate received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,353 - WebRTCService - DEBUG - Added ICE candidate for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,353 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:14:26,353 - RelayClient - DEBUG - ICE candidate received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,353 - WebRTCService - DEBUG - Added ICE candidate for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,353 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:14:26,353 - RelayClient - DEBUG - ICE candidate received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,353 - WebRTCService - DEBUG - Added ICE candidate for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,354 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:14:26,354 - RelayClient - DEBUG - ICE candidate received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,354 - WebRTCService - DEBUG - Added ICE candidate for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,354 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:14:26,354 - RelayClient - DEBUG - ICE candidate received: session=49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,354 - WebRTCService - DEBUG - Added ICE candidate for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:26,355 - WebRTCService - INFO - [WEBRTC] ICE state 49cdd53a-289a-4db7-92e4-06593ada7206: checking
2026-01-28 03:14:26,355 - WebRTCService - INFO - [WEBRTC] Connection 49cdd53a-289a-4db7-92e4-06593ada7206: connecting
2026-01-28 03:14:26,399 - WebRTCService - INFO - [WEBRTC] ICE state 49cdd53a-289a-4db7-92e4-06593ada7206: completed
2026-01-28 03:14:26,410 - WebRTCService - INFO - [WEBRTC] Connection 49cdd53a-289a-4db7-92e4-06593ada7206: connected
2026-01-28 03:14:26,464 - WebRTCService - INFO - Data channel opened for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:14:52,809 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:15:04,797 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:15:04,797 - RelayClient - INFO - ‚òÅÔ∏è Command: start_mission, params: {'mission_id': 'down_training', 'mission_name': 'down_training'}
2026-01-28 03:15:04,992 - TreatBotMain - INFO - ‚òÅÔ∏è Event data: {'command': 'start_mission', 'params': {'mission_id': 'down_training', 'mission_name': 'down_training'}}
2026-01-28 03:15:04,992 - TreatBotMain - INFO - ‚òÅÔ∏è Processing command=start_mission params={'mission_id': 'down_training', 'mission_name': 'down_training'}
2026-01-28 03:15:05,105 - orchestrators.mission_engine - INFO - Loaded mission: stop_barking
2026-01-28 03:15:05,106 - orchestrators.mission_engine - INFO - Loaded mission: come_and_sit
2026-01-28 03:15:05,107 - orchestrators.mission_engine - INFO - Loaded mission: sit
2026-01-28 03:15:05,108 - orchestrators.mission_engine - INFO - Loaded mission: night_quiet_90pct
2026-01-28 03:15:05,109 - orchestrators.mission_engine - INFO - Loaded mission: afternoon_down_3
2026-01-28 03:15:05,109 - orchestrators.mission_engine - INFO - Loaded mission: bark_prevention
2026-01-28 03:15:05,112 - orchestrators.mission_engine - INFO - Loaded mission: down_sustained
2026-01-28 03:15:05,114 - orchestrators.mission_engine - INFO - Loaded mission: sit_sustained
2026-01-28 03:15:05,115 - orchestrators.mission_engine - INFO - Loaded mission: sit_and_speak
2026-01-28 03:15:05,116 - orchestrators.mission_engine - INFO - Loaded mission: evening_settle
2026-01-28 03:15:05,117 - orchestrators.mission_engine - INFO - Loaded mission: evening_calm_transition
2026-01-28 03:15:05,118 - orchestrators.mission_engine - INFO - Loaded mission: speak_morning
2026-01-28 03:15:05,119 - orchestrators.mission_engine - INFO - Loaded mission: morning_chill
2026-01-28 03:15:05,120 - orchestrators.mission_engine - INFO - Loaded mission: afternoon_sit_5
2026-01-28 03:15:05,121 - orchestrators.mission_engine - INFO - Loaded mission: comfort_scared
2026-01-28 03:15:05,122 - orchestrators.mission_engine - INFO - Loaded mission: alert_training
2026-01-28 03:15:05,123 - orchestrators.mission_engine - INFO - Loaded mission: sit_training
2026-01-28 03:15:05,124 - orchestrators.mission_engine - INFO - Loaded mission: morning_quiet_2hr
2026-01-28 03:15:05,125 - orchestrators.mission_engine - INFO - Loaded mission: quiet_progressive
2026-01-28 03:15:05,127 - orchestrators.mission_engine - INFO - Loaded mission: speak_afternoon
2026-01-28 03:15:05,129 - orchestrators.mission_engine - INFO - Loaded mission: train_sit_daily
2026-01-28 03:15:05,130 - orchestrators.mission_engine - INFO - Mission engine initialized
2026-01-28 03:15:05,130 - orchestrators.mission_engine - ERROR - Mission not found: down_training
2026-01-28 03:15:05,130 - TreatBotMain - INFO - ‚òÅÔ∏è Start mission 'down_training' -> False
2026-01-28 03:15:15,821 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:15:15,821 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'mission'}
2026-01-28 03:15:15,821 - StateManager - INFO - Mode changed: manual -> mission (App command: mission)
2026-01-28 03:15:15,821 - DetectorService - INFO - üìπ Mode change manual ‚Üí mission: Resolution (1920, 1080) ‚Üí (640, 640)
2026-01-28 03:15:15,821 - RelayClient - INFO - üì± Mode changed to mission via app command
2026-01-28 03:15:15,821 - TreatBotMain - INFO - üîÑ MODE CHANGE: manual ‚Üí mission [reason: App command: mission] [source: File "/usr/lib/python3.11/threading.py", line 995, in _bootstrap |     self._bootstrap_inner() |   File "/usr/lib/python3.11/threading.py", line 1038, in _bootstrap_inner |     self.run() |   File "/usr/lib/python3.11/threading.py", line 975, in run |     self._target(*self._args, **self._kwargs)]
2026-01-28 03:15:15,822 - TreatBotMain - INFO - üì± Mode change notification sent to app: mission
2026-01-28 03:15:15,823 - WebRTCService - INFO - Video track paused for camera reconfig
2026-01-28 03:15:15,827 - TreatBotMain - INFO - üîä Mode announcement: mission
2026-01-28 03:15:16,714 - WebRTCService - INFO - Video track resumed after camera reconfig
2026-01-28 03:15:22,810 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:15:23,172 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded battery to relay: {'level': 96, 'charging': True, 'voltage': 16.6154175, 'temperature': 63.35, 'treats_today': 0, 'mode': 'mission'}
2026-01-28 03:15:31,050 - TreatBotMain - INFO - üìä System Status: {'uptime': '0.1h', 'mode': 'mission', 'loop_count': 300, 'safety_level': 'normal', 'active_sequences': 0}
2026-01-28 03:15:50,709 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:15:50,709 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441492377', 'dog_name': 'Elsa'}
2026-01-28 03:15:52,811 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:15:53,231 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded battery to relay: {'level': 96, 'charging': True, 'voltage': 16.6154175, 'temperature': 58.95, 'treats_today': 0, 'mode': 'mission'}
2026-01-28 03:16:01,693 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:16:01,693 - RelayClient - INFO - ‚òÅÔ∏è Command: stop_mission, params: {'mission_id': 'down_training'}
2026-01-28 03:16:01,693 - TreatBotMain - INFO - ‚òÅÔ∏è Event data: {'command': 'stop_mission', 'params': {'mission_id': 'down_training'}}
2026-01-28 03:16:01,693 - TreatBotMain - INFO - ‚òÅÔ∏è Processing command=stop_mission params={'mission_id': 'down_training'}
2026-01-28 03:16:01,734 - TreatBotMain - INFO - ‚òÅÔ∏è stop_mission -> False
2026-01-28 03:16:06,257 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:16:06,258 - RelayClient - INFO - ‚òÅÔ∏è Command: start_mission, params: {'mission_id': 'sit_training', 'mission_name': 'sit_training'}
2026-01-28 03:16:06,258 - TreatBotMain - INFO - ‚òÅÔ∏è Event data: {'command': 'start_mission', 'params': {'mission_id': 'sit_training', 'mission_name': 'sit_training'}}
2026-01-28 03:16:06,259 - TreatBotMain - INFO - ‚òÅÔ∏è Processing command=start_mission params={'mission_id': 'sit_training', 'mission_name': 'sit_training'}
2026-01-28 03:16:06,329 - orchestrators.mission_engine - INFO - Starting stage: wait_for_dog
2026-01-28 03:16:06,329 - orchestrators.mission_engine - INFO - Started mission: sit_training (ID: 11)
2026-01-28 03:16:06,330 - EventBus - DEBUG - Published system.mission.started event
2026-01-28 03:16:06,330 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded mission_progress to relay: {'action': 'started', 'mission': 'sit_training', 'mission_id': 11, 'dog_id': None}
2026-01-28 03:16:06,331 - TreatBotMain - INFO - ‚òÅÔ∏è Start mission 'sit_training' -> True
2026-01-28 03:16:12,535 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:16:12,535 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441530265', 'dog_name': 'Bezik'}
2026-01-28 03:16:22,813 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:16:23,291 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded battery to relay: {'level': 95, 'charging': True, 'voltage': 16.6046475, 'temperature': 58.95, 'treats_today': 0, 'mode': 'mission'}
2026-01-28 03:16:32,764 - TreatBotMain - INFO - üìä System Status: {'uptime': '0.1h', 'mode': 'mission', 'loop_count': 360, 'safety_level': 'normal', 'active_sequences': 0}
2026-01-28 03:16:52,814 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:16:53,350 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded battery to relay: {'level': 96, 'charging': True, 'voltage': 16.6154175, 'temperature': 58.4, 'treats_today': 0, 'mode': 'mission'}
2026-01-28 03:17:22,815 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:17:23,411 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded battery to relay: {'level': 96, 'charging': True, 'voltage': 16.6154175, 'temperature': 58.95, 'treats_today': 0, 'mode': 'mission'}
2026-01-28 03:17:33,492 - TreatBotMain - INFO - üìä System Status: {'uptime': '0.1h', 'mode': 'mission', 'loop_count': 420, 'safety_level': 'normal', 'active_sequences': 0}
2026-01-28 03:17:52,816 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:17:53,469 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded battery to relay: {'level': 96, 'charging': True, 'voltage': 16.6154175, 'temperature': 59.5, 'treats_today': 0, 'mode': 'mission'}
2026-01-28 03:17:53,886 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:17:53,886 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'coach'}
2026-01-28 03:17:53,886 - StateManager - INFO - Mode changed: mission -> coach (App command: coach)
2026-01-28 03:17:53,886 - RelayClient - INFO - üì± Mode changed to coach via app command
2026-01-28 03:17:53,887 - TreatBotMain - INFO - üîÑ MODE CHANGE: mission ‚Üí coach [reason: App command: coach] [source: File "/usr/lib/python3.11/threading.py", line 995, in _bootstrap |     self._bootstrap_inner() |   File "/usr/lib/python3.11/threading.py", line 1038, in _bootstrap_inner |     self.run() |   File "/usr/lib/python3.11/threading.py", line 975, in run |     self._target(*self._args, **self._kwargs)]
2026-01-28 03:17:53,904 - audio.bark_buffer_arecord - INFO - Recording loop started
2026-01-28 03:17:53,904 - audio.bark_buffer_arecord - INFO - Started audio recording with arecord
2026-01-28 03:18:02,212 - audio.bark_buffer_arecord - WARNING - Recording timeout after 1.5s
2026-01-28 03:18:02,256 - audio.bark_buffer_arecord - WARNING - Recording failed (total failures: 1). Check device with: arecord -l
2026-01-28 03:18:02,605 - orchestrators.mission_engine - INFO - Advanced to stage: wait_for_sit
2026-01-28 03:18:02,606 - orchestrators.mission_engine - INFO - Dog detected (success), advanced to stage 2
2026-01-28 03:18:02,633 - EventBus - DEBUG - Published vision.pose_detected event
2026-01-28 03:18:07,922 - orchestrators.mission_engine - INFO - Dog detected, waiting for behavior on stage 2
2026-01-28 03:18:07,959 - EventBus - DEBUG - Published vision.pose_detected event
2026-01-28 03:18:08,014 - core.behavior_interpreter - DEBUG - BehaviorInterpreter tracking reset at 1769588288.015
2026-01-28 03:18:08,020 - orchestrators.mission_engine - INFO - Mission pose stage: watching for 'sit' (reset tracking)
2026-01-28 03:18:09,345 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:10,504 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:11,544 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:12,631 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:13,746 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:14,821 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:15,865 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:16,910 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:17,949 - audio.bark_buffer_arecord - DEBUG - Audio queue full, dropping chunk
2026-01-28 03:18:18,921 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:18,922 - RelayClient - INFO - ‚òÅÔ∏è Command: set_mode, params: {'mode': 'manual'}
2026-01-28 03:18:18,923 - RelayClient - INFO - üì± Mode changed to manual via app command
2026-01-28 03:18:18,924 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:18,930 - WebRTCService - INFO - Video track paused for camera reconfig
2026-01-28 03:18:18,928 - RelayClient - INFO - ‚òÅÔ∏è Command: set_manual_control, params: {'active': True}
2026-01-28 03:18:19,025 - audio.bark_buffer_arecord - INFO - Drained 5 audio chunks from queue
2026-01-28 03:18:19,026 - audio.bark_buffer_arecord - DEBUG - Recorded 10 chunks
2026-01-28 03:18:19,026 - audio.bark_buffer_arecord - INFO - Recording loop ended
2026-01-28 03:18:19,026 - audio.bark_buffer_arecord - INFO - Stopped audio recording. Stats: 10 recorded, 1 failed
2026-01-28 03:18:20,309 - WebRTCService - INFO - Video track resumed after camera reconfig
2026-01-28 03:18:23,133 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:18:28,948 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:28,948 - RelayClient - INFO - ‚òÅÔ∏è Command: set_manual_control, params: {'active': False}
2026-01-28 03:18:32,546 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:32,547 - RelayClient - INFO - ‚òÅÔ∏è Command: take_photo, params: {'with_hud': True}
2026-01-28 03:18:50,439 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:50,439 - RelayClient - INFO - ‚òÅÔ∏è Command: led, params: {'pattern': 'warning'}
2026-01-28 03:18:50,440 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:50,440 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'no', 'dog_id': 'dog_1769441530265'}
2026-01-28 03:18:53,134 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:18:55,469 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:55,469 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'treat', 'dog_id': 'dog_1769441530265'}
2026-01-28 03:18:57,548 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:18:57,549 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441530265', 'dog_name': 'Bezik'}
2026-01-28 03:19:02,203 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:02,204 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441492377', 'dog_name': 'Elsa'}
2026-01-28 03:19:04,430 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:04,431 - RelayClient - INFO - ‚òÅÔ∏è Command: led, params: {'pattern': 'warning'}
2026-01-28 03:19:04,433 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:04,435 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'no', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:09,290 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:09,290 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'treat', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:15,778 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:15,778 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'treat', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:23,135 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:19:23,491 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:23,491 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441492377', 'dog_name': 'Elsa'}
2026-01-28 03:19:25,901 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:25,904 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:25,960 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:19:28,881 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:28,881 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:28,940 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:19:31,091 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:31,091 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:31,161 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:19:46,201 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:46,206 - RelayClient - INFO - ‚òÅÔ∏è Command: upload_voice, params: {'name': 'good', 'dog_id': 'dog_1769441492377', 'data': 'UklGRsqUBABXQVZFSlVOSxwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZm10IBAAAAABAAEARKwAAIhYAQACABAARkxMUqgPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
2026-01-28 03:19:53,137 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:19:54,446 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:54,446 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:54,508 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:19:57,228 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:57,228 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:19:57,295 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:19:59,805 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:19:59,806 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441492377', 'dog_name': 'Elsa'}
2026-01-28 03:20:02,690 - orchestrators.mission_engine - WARNING - Stage timeout, retrying: wait_for_sit
2026-01-28 03:20:03,773 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:20:03,773 - RelayClient - INFO - ‚òÅÔ∏è Command: call_dog, params: {'dog_id': 'dog_1769441530265', 'dog_name': 'Bezik'}
2026-01-28 03:20:07,292 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:20:07,292 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:20:07,359 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:20:08,736 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:20:08,737 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:20:08,796 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:20:09,763 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:20:09,763 - RelayClient - INFO - ‚òÅÔ∏è Command: led, params: {'pattern': 'warning'}
2026-01-28 03:20:09,765 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:20:09,765 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'no', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:20:15,059 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:20:15,060 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:20:15,121 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:20:16,302 - RelayClient - INFO - üì• Relay message received: type=command, device_id=None
2026-01-28 03:20:16,302 - RelayClient - INFO - ‚òÅÔ∏è Command: play_voice, params: {'voice_type': 'good', 'dog_id': 'dog_1769441492377'}
2026-01-28 03:20:16,352 - USBAudio - ERROR - Audio file not found: /home/morgan/dogbot/VOICEMP3/talks/good.mp3
2026-01-28 03:20:23,139 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:20:42,724 - WebRTCService - INFO - Data channel closed for 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:20:42,728 - WebRTCService - INFO - [WEBRTC] ICE state 49cdd53a-289a-4db7-92e4-06593ada7206: closed
2026-01-28 03:20:42,728 - WebRTCService - WARNING - [WEBRTC] ICE closed for 49cdd53a-289a-4db7-92e4-06593ada7206, scheduling cleanup...
2026-01-28 03:20:42,728 - WebRTCService - INFO - [WEBRTC] Connection 49cdd53a-289a-4db7-92e4-06593ada7206: closed
2026-01-28 03:20:42,728 - WebRTCService - INFO - [WEBRTC] Session 49cdd53a-289a-4db7-92e4-06593ada7206 closed - cleaning up (mode unchanged)
2026-01-28 03:20:42,728 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 49cdd53a-289a-4db7-92e4-06593ada7206
2026-01-28 03:20:42,728 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:20:42,729 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:20:42,730 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:20:42,730 - RelayClient - INFO - [WEBRTC] Close request: session=49cdd53a-289a-4db7-92e4-06593ada7206 - mode unchanged
2026-01-28 03:20:53,140 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:21:23,143 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:21:33,457 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:21:33,458 - RelayClient - INFO - WebRTC request received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,461 - WebRTCService - INFO - Created data channel for offer 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,461 - WebRTCService - INFO - [WEBRTC] Active connections: ['00b8f82d-f186-4814-905f-b3ef49d37ee2']
2026-01-28 03:21:33,504 - WebRTCService - INFO - [WEBRTC] Created offer for session 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,505 - RelayClient - INFO - Sent WebRTC offer for session 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,564 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:21:33,564 - RelayClient - INFO - WebRTC answer received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,663 - WebRTCService - INFO - Set remote description (answer) for session 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,663 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,663 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,663 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,664 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,664 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,664 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,664 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,664 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,665 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,665 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,665 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,665 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,665 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,666 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,666 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,667 - WebRTCService - INFO - [WEBRTC] ICE state 00b8f82d-f186-4814-905f-b3ef49d37ee2: checking
2026-01-28 03:21:33,667 - WebRTCService - INFO - [WEBRTC] Connection 00b8f82d-f186-4814-905f-b3ef49d37ee2: connecting
2026-01-28 03:21:33,668 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,669 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,669 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,669 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,669 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,669 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,670 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,670 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,670 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,670 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,670 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,671 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,671 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,671 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,671 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,671 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,671 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,672 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,672 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,672 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,672 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,673 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,673 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,673 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,673 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,674 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,674 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,674 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,674 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,674 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,674 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,675 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,675 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,675 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:21:33,675 - RelayClient - DEBUG - ICE candidate received: session=00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,675 - WebRTCService - DEBUG - Added ICE candidate for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:33,691 - WebRTCService - INFO - [WEBRTC] ICE state 00b8f82d-f186-4814-905f-b3ef49d37ee2: completed
2026-01-28 03:21:33,708 - WebRTCService - INFO - [WEBRTC] Connection 00b8f82d-f186-4814-905f-b3ef49d37ee2: connected
2026-01-28 03:21:33,806 - WebRTCService - INFO - Data channel opened for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:21:53,144 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:22:02,734 - orchestrators.mission_engine - WARNING - Stage timeout, retrying: wait_for_sit
2026-01-28 03:22:07,192 - WebRTCService - INFO - Data channel closed for 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:22:07,194 - WebRTCService - INFO - [WEBRTC] ICE state 00b8f82d-f186-4814-905f-b3ef49d37ee2: closed
2026-01-28 03:22:07,194 - WebRTCService - WARNING - [WEBRTC] ICE closed for 00b8f82d-f186-4814-905f-b3ef49d37ee2, scheduling cleanup...
2026-01-28 03:22:07,194 - WebRTCService - INFO - [WEBRTC] Connection 00b8f82d-f186-4814-905f-b3ef49d37ee2: closed
2026-01-28 03:22:07,194 - WebRTCService - INFO - [WEBRTC] Session 00b8f82d-f186-4814-905f-b3ef49d37ee2 closed - cleaning up (mode unchanged)
2026-01-28 03:22:07,194 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 00b8f82d-f186-4814-905f-b3ef49d37ee2
2026-01-28 03:22:07,194 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:22:07,195 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:22:07,251 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:22:07,251 - RelayClient - INFO - [WEBRTC] Close request: session=00b8f82d-f186-4814-905f-b3ef49d37ee2 - mode unchanged
2026-01-28 03:22:09,509 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:22:09,509 - RelayClient - INFO - WebRTC request received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,512 - WebRTCService - INFO - Created data channel for offer 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,512 - WebRTCService - INFO - [WEBRTC] Active connections: ['4d9f59b4-261c-425f-9f48-79be0e9bdac7']
2026-01-28 03:22:09,555 - WebRTCService - INFO - [WEBRTC] Created offer for session 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,555 - RelayClient - INFO - Sent WebRTC offer for session 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,644 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:22:09,644 - RelayClient - INFO - WebRTC answer received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,656 - WebRTCService - INFO - Set remote description (answer) for session 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,656 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:09,656 - RelayClient - DEBUG - ICE candidate received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,657 - WebRTCService - DEBUG - Added ICE candidate for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,657 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:09,657 - RelayClient - DEBUG - ICE candidate received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,657 - WebRTCService - DEBUG - Added ICE candidate for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,657 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:09,657 - RelayClient - DEBUG - ICE candidate received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,657 - WebRTCService - DEBUG - Added ICE candidate for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,657 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:09,657 - RelayClient - DEBUG - ICE candidate received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,658 - WebRTCService - DEBUG - Added ICE candidate for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,658 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:09,658 - RelayClient - DEBUG - ICE candidate received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,658 - WebRTCService - DEBUG - Added ICE candidate for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,658 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:09,658 - RelayClient - DEBUG - ICE candidate received: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,658 - WebRTCService - DEBUG - Added ICE candidate for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:09,659 - WebRTCService - INFO - [WEBRTC] ICE state 4d9f59b4-261c-425f-9f48-79be0e9bdac7: checking
2026-01-28 03:22:09,659 - WebRTCService - INFO - [WEBRTC] Connection 4d9f59b4-261c-425f-9f48-79be0e9bdac7: connecting
2026-01-28 03:22:09,703 - WebRTCService - INFO - [WEBRTC] ICE state 4d9f59b4-261c-425f-9f48-79be0e9bdac7: completed
2026-01-28 03:22:09,717 - WebRTCService - INFO - [WEBRTC] Connection 4d9f59b4-261c-425f-9f48-79be0e9bdac7: connected
2026-01-28 03:22:09,851 - WebRTCService - INFO - Data channel opened for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:12,046 - WebRTCService - INFO - Data channel closed for 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:12,053 - WebRTCService - INFO - [WEBRTC] ICE state 4d9f59b4-261c-425f-9f48-79be0e9bdac7: closed
2026-01-28 03:22:12,053 - WebRTCService - WARNING - [WEBRTC] ICE closed for 4d9f59b4-261c-425f-9f48-79be0e9bdac7, scheduling cleanup...
2026-01-28 03:22:12,053 - WebRTCService - INFO - [WEBRTC] Connection 4d9f59b4-261c-425f-9f48-79be0e9bdac7: closed
2026-01-28 03:22:12,054 - WebRTCService - INFO - [WEBRTC] Session 4d9f59b4-261c-425f-9f48-79be0e9bdac7 closed - cleaning up (mode unchanged)
2026-01-28 03:22:12,054 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 4d9f59b4-261c-425f-9f48-79be0e9bdac7
2026-01-28 03:22:12,055 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:22:12,055 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:22:12,056 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:22:12,056 - RelayClient - INFO - [WEBRTC] Close request: session=4d9f59b4-261c-425f-9f48-79be0e9bdac7 - mode unchanged
2026-01-28 03:22:14,214 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:22:14,214 - RelayClient - INFO - WebRTC request received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,216 - WebRTCService - INFO - Created data channel for offer f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,216 - WebRTCService - INFO - [WEBRTC] Active connections: ['f0bec225-f30c-429f-8e23-3fcad4c59b29']
2026-01-28 03:22:14,247 - WebRTCService - INFO - [WEBRTC] Created offer for session f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,247 - RelayClient - INFO - Sent WebRTC offer for session f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,313 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:22:14,313 - RelayClient - INFO - WebRTC answer received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,328 - WebRTCService - INFO - Set remote description (answer) for session f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,328 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,328 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,329 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,329 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,329 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,329 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,329 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,329 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,329 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,329 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,329 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,330 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,330 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,330 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,330 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,330 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,330 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,330 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,331 - WebRTCService - INFO - [WEBRTC] ICE state f0bec225-f30c-429f-8e23-3fcad4c59b29: checking
2026-01-28 03:22:14,331 - WebRTCService - INFO - [WEBRTC] Connection f0bec225-f30c-429f-8e23-3fcad4c59b29: connecting
2026-01-28 03:22:14,353 - WebRTCService - INFO - [WEBRTC] ICE state f0bec225-f30c-429f-8e23-3fcad4c59b29: completed
2026-01-28 03:22:14,353 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,353 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,353 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,353 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,353 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,353 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,419 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,419 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,419 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,419 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,419 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,419 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,419 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,419 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,419 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,420 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,420 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,420 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,420 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,420 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,421 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,421 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,421 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,421 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,421 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,421 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,421 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,421 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,421 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,430 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:22:14,430 - RelayClient - DEBUG - ICE candidate received: session=f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,430 - WebRTCService - DEBUG - Added ICE candidate for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:14,465 - WebRTCService - INFO - [WEBRTC] Connection f0bec225-f30c-429f-8e23-3fcad4c59b29: connected
2026-01-28 03:22:14,556 - WebRTCService - INFO - Data channel opened for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:22:23,145 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:22:53,146 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:23:07,269 - WebRTCService - INFO - Data channel closed for f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:23:07,269 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:23:07,269 - RelayClient - INFO - [WEBRTC] Close request: session=f0bec225-f30c-429f-8e23-3fcad4c59b29 - mode unchanged
2026-01-28 03:23:07,273 - WebRTCService - INFO - [WEBRTC] Connection f0bec225-f30c-429f-8e23-3fcad4c59b29: closed
2026-01-28 03:23:07,274 - WebRTCService - INFO - [WEBRTC] Session f0bec225-f30c-429f-8e23-3fcad4c59b29 closed - cleaning up (mode unchanged)
2026-01-28 03:23:07,274 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:23:07,293 - WebRTCService - INFO - [WEBRTC] ICE state f0bec225-f30c-429f-8e23-3fcad4c59b29: closed
2026-01-28 03:23:07,293 - WebRTCService - WARNING - [WEBRTC] ICE closed for f0bec225-f30c-429f-8e23-3fcad4c59b29, scheduling cleanup...
2026-01-28 03:23:07,315 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: f0bec225-f30c-429f-8e23-3fcad4c59b29
2026-01-28 03:23:07,315 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:23:23,151 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:23:43,719 - RelayClient - INFO - üì• Relay message received: type=webrtc_request, device_id=None
2026-01-28 03:23:43,719 - RelayClient - INFO - WebRTC request received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,722 - WebRTCService - INFO - Created data channel for offer 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,723 - WebRTCService - INFO - [WEBRTC] Active connections: ['74a91c5f-e114-4032-a5d2-31fd88cfd33b']
2026-01-28 03:23:43,779 - WebRTCService - INFO - [WEBRTC] Created offer for session 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,780 - RelayClient - INFO - Sent WebRTC offer for session 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,828 - RelayClient - INFO - üì• Relay message received: type=webrtc_answer, device_id=None
2026-01-28 03:23:43,828 - RelayClient - INFO - WebRTC answer received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,842 - WebRTCService - INFO - Set remote description (answer) for session 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,843 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:23:43,843 - RelayClient - DEBUG - ICE candidate received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,843 - WebRTCService - DEBUG - Added ICE candidate for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,843 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:23:43,843 - RelayClient - DEBUG - ICE candidate received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,843 - WebRTCService - DEBUG - Added ICE candidate for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,843 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:23:43,843 - RelayClient - DEBUG - ICE candidate received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,843 - WebRTCService - DEBUG - Added ICE candidate for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,843 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:23:43,844 - RelayClient - DEBUG - ICE candidate received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,844 - WebRTCService - DEBUG - Added ICE candidate for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,844 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:23:43,844 - RelayClient - DEBUG - ICE candidate received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,844 - WebRTCService - DEBUG - Added ICE candidate for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,844 - RelayClient - INFO - üì• Relay message received: type=webrtc_ice, device_id=None
2026-01-28 03:23:43,844 - RelayClient - DEBUG - ICE candidate received: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,844 - WebRTCService - DEBUG - Added ICE candidate for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:43,845 - WebRTCService - INFO - [WEBRTC] ICE state 74a91c5f-e114-4032-a5d2-31fd88cfd33b: checking
2026-01-28 03:23:43,845 - WebRTCService - INFO - [WEBRTC] Connection 74a91c5f-e114-4032-a5d2-31fd88cfd33b: connecting
2026-01-28 03:23:43,870 - WebRTCService - INFO - [WEBRTC] ICE state 74a91c5f-e114-4032-a5d2-31fd88cfd33b: completed
2026-01-28 03:23:43,924 - WebRTCService - INFO - [WEBRTC] Connection 74a91c5f-e114-4032-a5d2-31fd88cfd33b: connected
2026-01-28 03:23:44,057 - WebRTCService - INFO - Data channel opened for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:23:53,157 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:24:02,803 - orchestrators.mission_engine - WARNING - Stage timeout, retrying: wait_for_sit
2026-01-28 03:24:23,160 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:24:25,216 - WebRTCService - INFO - Data channel closed for 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:24:25,216 - RelayClient - INFO - üì• Relay message received: type=webrtc_close, device_id=None
2026-01-28 03:24:25,216 - RelayClient - INFO - [WEBRTC] Close request: session=74a91c5f-e114-4032-a5d2-31fd88cfd33b - mode unchanged
2026-01-28 03:24:25,225 - WebRTCService - INFO - [WEBRTC] Connection 74a91c5f-e114-4032-a5d2-31fd88cfd33b: closed
2026-01-28 03:24:25,232 - WebRTCService - INFO - [WEBRTC] Session 74a91c5f-e114-4032-a5d2-31fd88cfd33b closed - cleaning up (mode unchanged)
2026-01-28 03:24:25,232 - WebRTCService - INFO - Stopped video track (no active connections)
2026-01-28 03:24:25,252 - WebRTCService - INFO - [WEBRTC] ICE state 74a91c5f-e114-4032-a5d2-31fd88cfd33b: closed
2026-01-28 03:24:25,252 - WebRTCService - WARNING - [WEBRTC] ICE closed for 74a91c5f-e114-4032-a5d2-31fd88cfd33b, scheduling cleanup...
2026-01-28 03:24:25,271 - WebRTCService - INFO - [WEBRTC] Cleaned up connection: 74a91c5f-e114-4032-a5d2-31fd88cfd33b
2026-01-28 03:24:25,272 - WebRTCService - INFO - [WEBRTC] Active connections: []
2026-01-28 03:24:53,166 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:25:23,167 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:25:53,173 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:26:02,813 - orchestrators.mission_engine - WARNING - Stage timeout, retrying: wait_for_sit
2026-01-28 03:26:23,174 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:26:53,179 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:27:23,180 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:27:53,181 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:28:02,879 - orchestrators.mission_engine - INFO - Mission completed: sit_training (stage_timeout)
2026-01-28 03:28:02,879 - EventBus - DEBUG - Published system.mission.completed event
2026-01-28 03:28:02,879 - TreatBotMain - DEBUG - ‚òÅÔ∏è Forwarded mission_complete to relay: {'mission': 'sit_training', 'mission_id': 11, 'success': False, 'reason': 'stage_timeout', 'rewards_given': 0}
2026-01-28 03:28:23,183 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:28:53,186 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:29:23,187 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:29:53,193 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:30:23,198 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:30:53,199 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:31:23,200 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:31:53,202 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:32:23,203 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:32:53,206 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:33:23,207 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:33:53,207 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:34:23,210 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:34:53,214 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:35:23,216 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:35:53,218 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:36:23,220 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:36:53,221 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:37:23,226 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:37:53,231 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:38:23,235 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:38:53,242 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:39:23,244 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:39:53,250 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 03:40:23,257 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 17:19:58,744 - core.ai_controller_3stage_fixed - INFO - Loaded config: {'imgsz': [640, 640], 'T': 16, 'behaviors': ['stand', 'sit', 'lie', 'spin'], 'prob_th': 0.7, 'cooldown_s': {'stand': 2, 'sit': 5, 'lie': 5, 'spin': 8}, 'aruco_dict': 'DICT_4X4_1000', 'dogs': [{'id': 'elsa', 'marker_id': 315}, {'id': 'bezik', 'marker_id': 832}], 'assume_other_if_two_boxes_one_marker': True, 'camera_rotation_deg': 90, 'hef_path': 'dogpose_14.hef', 'detect_path': 'dogdetector_14.hef', 'behavior_head_t
2026-01-28 17:19:58,749 - services.ai.pose_validator - INFO - PoseValidator initialized with config: blur_th=70.0, min_kp=4, temporal_window=4
2026-01-28 17:19:58,749 - core.ai_controller_3stage_fixed - INFO - PoseValidator initialized for behavior filtering
2026-01-28 17:19:58,906 - core.ai_controller_3stage_fixed - INFO - Using single model for detection+pose: dogpose_14.hef
2026-01-28 17:19:59,169 - core.ai_controller_3stage_fixed - INFO - Pose model loaded: dogpose_14.hef
2026-01-28 17:19:59,270 - core.ai_controller_3stage_fixed - INFO - TorchScript behavior model loaded: behavior_14.ts
2026-01-28 17:19:59,270 - core.ai_controller_3stage_fixed - INFO - AI Controller initialized with single-model Hailo + TorchScript behavior
2026-01-28 17:19:59,287 - audio.bark_buffer_arecord - INFO - Found USB audio device at hw:1,0
2026-01-28 17:19:59,287 - audio.bark_buffer_arecord - INFO - BarkAudioBufferArecord initialized: device=hw:1,0, 44100Hz, 1.0s chunks, gain=30.0x
2026-01-28 17:19:59,293 - audio.bark_buffer_arecord - INFO - Found USB audio device at hw:1,0
2026-01-28 17:19:59,293 - audio.bark_buffer_arecord - INFO - BarkAudioBufferArecord initialized: device=hw:1,0, 44100Hz, 1.0s chunks, gain=30.0x
2026-01-28 17:19:59,795 - TreatBotMain - INFO - ‚úÖ Motor bus initialized (WebRTC direct control - no Xbox)
2026-01-28 17:20:00,166 - WebRTCService - INFO - WebRTCService initialized (max 2 connections)
2026-01-28 17:20:00,166 - TreatBotMain - INFO - ‚úÖ WebRTC service initialized
2026-01-28 17:20:00,166 - RelayClient - INFO - RelayClient initialized (enabled=True)
2026-01-28 17:20:00,166 - RelayClient - INFO - WebRTC service connected to relay client
2026-01-28 17:20:00,178 - core.behavior_interpreter - INFO - Loaded trick rules from /home/morgan/dogbot/configs/trick_rules.yaml
2026-01-28 17:20:00,179 - core.behavior_interpreter - INFO - BehaviorInterpreter initialized with 5 tricks
2026-01-28 17:20:00,204 - RelayClient - INFO - Relay client started
2026-01-28 17:20:00,206 - RelayClient - INFO - Connecting to relay: wss://api.wimzai.com/ws/device
2026-01-28 17:20:00,767 - RelayClient - INFO - Connected to cloud relay
2026-01-28 17:20:00,768 - RelayClient - INFO - üì§ Requested dog profiles from cloud
2026-01-28 17:20:01,798 - core.hardware.proper_pid_motor_controller - WARNING - ‚è∞ Watchdog timeout - no commands received, stopping motors
2026-01-28 17:20:30,769 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 17:21:00,771 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 17:21:30,772 - RelayClient - DEBUG - üíì Heartbeat sent
2026-01-28 17:22:00,773 - RelayClient - DEBUG - üíì Heartbeat sent
